<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Aaron's Ramblings</title><link>https://geekgonecrazy.com/</link><description>Recent content on Aaron's Ramblings</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 24 Sep 2023 00:00:00 +0000</lastBuildDate><item><title>Fedora Iot, Greenboot, Systemd and of course DNS</title><link>https://geekgonecrazy.com/2023/09/24/fedora-iot-greenboot-systemd-and-of-course-dns/</link><pubDate>Sun, 24 Sep 2023 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2023/09/24/fedora-iot-greenboot-systemd-and-of-course-dns/</guid><description>
&lt;p>This post is mostly as a resource for future me. But maybe it&amp;rsquo;ll come in useful to someone else.&lt;/p>
&lt;p>This weekend I was working on provisioning a new NAS/Media box setup after having to do a bit of hardware shuffling. Long story.&lt;/p>
&lt;p>I decided to try &lt;a href="https://fedoraproject.org/iot/"target="_blank">Fedora iot&lt;/a> on a whim. Fedora iot has an interesting project called &lt;a href="https://github.com/fedora-iot/greenboot"target="_blank">greenboot&lt;/a>. The objective of the project is to define some checks for the state of the machine. When the machine is booting and the machine isn&amp;rsquo;t configured or working as expected it reboots and tries to correct. From what I understand it does this several times and then if unsuccessful it rolls back to the previous ostree commit. In an edge deployment scenario where you can&amp;rsquo;t always have your hands on the device and it almost assuredly will break&amp;hellip; I can see ostree commits + this to being great to rollback when something gets broken. Much easier than in my previous post:&lt;/p>
&lt;p>&lt;a href="https://geekgonecrazy.com/2022/06/16/adventures-of-the-geek-remote-password-reset/"target="_blank">Adventures of the geek: Remote Password Reset&lt;/a>&lt;/p>
&lt;p>Anyways.. In this particular case i&amp;rsquo;m also installing &lt;a href="https://pi-hole.net/"target="_blank">pi-hole&lt;/a> on it. This will act as the DNS server in my house. Blocking domains related to tracking, ads etc. But also lets me do other typical internal dns stuff, block list of inappropriate domains etc.&lt;/p>
&lt;p>So I started off by just tying to run pi-hole:&lt;/p>
&lt;pre>&lt;code>sudo podman run -d \
--name=pihole \
-e TZ=America/Chicago \
-e DNSMASQ_LISTENING=all \
-e WEBPASSWORD=password \
-v ./etc-pihole:/etc/pihole:Z \
-v ./etc-dnsmasq.d:/etc/dnsmasq.d:Z \
-p 53:53/tcp \
-p 53:53/udp \
-p 80:80/tcp \
--restart=unless-stopped \
docker.io/pihole/pihole:latest
&lt;/code>&lt;/pre>&lt;p>This started throwing erorrs about :53 already being used.&lt;/p>
&lt;p>Turns out that systemd-resolved listens on :53 with a stub-listener and by default all queries goto 127.0.0.1:53 and then through systemd-resolved to upstream dns resolvers.&lt;/p>
&lt;p>To disable I had to create: &lt;code>/etc/systemd/resolvd.conf.d/stub-listener.conf&lt;/code>&lt;/p>
&lt;p>With contents:&lt;/p>
&lt;pre>&lt;code>[Resolve]
DNSStubListener=no
&lt;/code>&lt;/pre>&lt;p>Then of course restart systemd-resolved:&lt;/p>
&lt;pre>&lt;code>sudo systemctl restart systemd-resolved
&lt;/code>&lt;/pre>&lt;p>This let me start up pi-hole and I went on about my business setting up volumes, moving data around etc.&lt;/p>
&lt;p>As part of it a reboot was finally needed. Oops&amp;hellip; It wouldn&amp;rsquo;t boot.. get to login screen and then promptly reboot again. I realized this was greenboot. I let it go a few times but it never recovered.&lt;/p>
&lt;p>So I finally intervened and modified the boot arguments from grub and added:&lt;/p>
&lt;pre>&lt;code>init=/bin/bash
&lt;/code>&lt;/pre>&lt;p>To drop into single user mode.&lt;/p>
&lt;p>I poked around and finally found: &lt;code>/usr/lib/greenboot/check/required.d/01_repository_dns_check.sh&lt;/code>&lt;/p>
&lt;p>This made me realize what had happened. pi-hole wasn&amp;rsquo;t up at this point and systemd-resolved is no longer running the stub. So this check was failing.&lt;/p>
&lt;pre>&lt;code>[aaron@super-terribly-named-box ~]$ dig google.com
;; communications error to ::1#53: connection refused
;; communications error to ::1#53: connection refused
;; communications error to ::1#53: connection refused
;; communications error to 127.0.0.1#53: connection refused
; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.18.17 &amp;lt;&amp;lt;&amp;gt;&amp;gt; google.com
;; global options: +cmd
;; no servers could be reached
&lt;/code>&lt;/pre>&lt;p>I found this issue: &lt;a href="https://github.com/fedora-iot/greenboot/issues/113#issuecomment-1689929196">https://github.com/fedora-iot/greenboot/issues/113#issuecomment-1689929196&lt;/a>&lt;/p>
&lt;p>The suggestion is simple. Disable the service. Problem was I couldn&amp;rsquo;t even get logged in fast enough over ssh or console access to do this.&lt;/p>
&lt;p>In single user mode systemd isn&amp;rsquo;t running of course so finding the unit file to quickly mask it didn&amp;rsquo;t work. And at the time I didn&amp;rsquo;t remember how to do it manually with ostree involved anyways.&lt;/p>
&lt;p>For the record: &lt;code>/usr/lib/systemd/system/greenboot-healthcheck.service&lt;/code> but still the problem of it being read only because of ostree and being in single user mode where rpm-ostree did not seem to work like I was used to. This is a subject i&amp;rsquo;ll be diving into at a later date.&lt;/p>
&lt;p>I looked for a way via boot args to turn off greenboot. They don&amp;rsquo;t have any. But then I found:&lt;/p>
&lt;pre>&lt;code>systemd.mask=greenboot-healthcheck.service
&lt;/code>&lt;/pre>&lt;p>Can read a bit more &lt;a href="https://man.archlinux.org/man/systemd-debug-generator.8.en"target="_blank">here&lt;/a>&lt;/p>
&lt;p>By adding this to the boot args it will mask that service from starting during that session.&lt;/p>
&lt;p>From here then it was as simple as:&lt;/p>
&lt;pre>&lt;code>sudo systemctl mask greenboot-healthcheck.service
&lt;/code>&lt;/pre>&lt;p>Now to go on to evaluate greenboot further. Seems like a cool idea.&lt;/p>
&lt;p>&lt;code>systemd.mask&lt;/code> bootarg saved the day!&lt;/p></description></item><item><title>How to Set Up Client SSL Certificate Authentication for Rocket.Chat</title><link>https://geekgonecrazy.com/2023/05/23/how-to-set-up-client-ssl-certificate-authentication-for-rocket.chat/</link><pubDate>Tue, 23 May 2023 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2023/05/23/how-to-set-up-client-ssl-certificate-authentication-for-rocket.chat/</guid><description>
&lt;p>Are you looking to add an extra layer of security to access Rocket.Chat? One way to do this is by implementing client SSL certificate authentication. This authentication method requires clients to present a valid SSL certificate to authenticate themselves to the server.&lt;/p>
&lt;p>In this post, we will walk through the steps to set up client SSL certificate authentication using Nginx.&lt;/p>
&lt;h2 id="prerequisites">Prerequisites&lt;/h2>
&lt;ul>
&lt;li>A server running Ubuntu
&lt;ul>
&lt;li>Allow HTTP/HTTPS/ssh in security group&lt;/li>
&lt;li>Create a public IP and associate it.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>A domain&lt;/li>
&lt;li>&lt;strong>Domain pointed to the server&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h2 id="step-1-install-docker">Step 1: Install Docker&lt;/h2>
&lt;p>Lets do a quick and easy install of Docker if you haven&amp;rsquo;t already.&lt;/p>
&lt;pre>&lt;code>curl -L https://get.docker.com | sh
&lt;/code>&lt;/pre>&lt;p>Now Lets add your user to the docker group so you don&amp;rsquo;t have to use &lt;code>sudo&lt;/code> before every docker command.&lt;/p>
&lt;pre>&lt;code>sudo usermod -aG docker $USER
&lt;/code>&lt;/pre>&lt;p>Normally here we&amp;rsquo;d say logout and back in.. but I don&amp;rsquo;t want to mess with it so I use:&lt;/p>
&lt;pre>&lt;code>newgrp docker
&lt;/code>&lt;/pre>&lt;h2 id="step-2-install-rocketchat">Step 2: Install Rocket.Chat&lt;/h2>
&lt;p>Now that we have Docker installed lets get Rocket.Chat up and running.&lt;/p>
&lt;p>Start off with creating a rocketchat directory and grabbing the docker-compose file:&lt;/p>
&lt;pre>&lt;code>mkdir rocketchat &amp;amp;&amp;amp; cd &amp;quot;$_&amp;quot;
curl -L https://go.rocket.chat/i/docker-compose.yml -O
&lt;/code>&lt;/pre>&lt;p>Next lets fire it up.&lt;/p>
&lt;pre>&lt;code>docker compose up -d
&lt;/code>&lt;/pre>&lt;p>If impatient or only came here to install Rocket.Chat you could access on port 3000 if your firewall is open. But I suspect you came here for seeing how to do client SSL. So lets carry on!&lt;/p>
&lt;h2 id="step-3-install-nginx">Step 3: Install Nginx&lt;/h2>
&lt;pre>&lt;code>sudo apt install -y nginx
&lt;/code>&lt;/pre>&lt;h2 id="step-4-install-certbot">Step 4: Install Certbot&lt;/h2>
&lt;p>To help us get a valid certificate we are going to use letsencrypt but using a tool called certbot. This will help us make sure to keep the certificate valid as well.&lt;/p>
&lt;pre>&lt;code>sudo snap install --classic certbot
&lt;/code>&lt;/pre>&lt;p>Now use certbot to generate and plug everything up for letsencrypt and nginx:&lt;/p>
&lt;pre>&lt;code>sudo certbot --nginx
&lt;/code>&lt;/pre>&lt;p>Youâ€™ll be asked to provide a valid email and the domain set.&lt;/p>
&lt;h2 id="step-5-generate-certificate-authority-ca-certificates">Step 5: Generate Certificate Authority (CA) Certificates&lt;/h2>
&lt;p>In order to do client SSL Authentication weâ€™re going to need a CA.&lt;/p>
&lt;h3 id="generate-a-key-for-your-ca">Generate a key for your CA:&lt;/h3>
&lt;pre>&lt;code>openssl genrsa -des3 -out ca.key 4096
&lt;/code>&lt;/pre>&lt;h3 id="generate-a-certificate-for-your-ca">Generate a certificate for your CA:&lt;/h3>
&lt;pre>&lt;code>openssl req -new -x509 -days 365 -key ca.key -out ca.crt
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>Note what youâ€™ve entered for Country, State, Locality, and Organization; youâ€™ll want these to match later when you renew the certificate.&lt;/li>
&lt;li>Do not enter a common name (CN) for the certificate.&lt;/li>
&lt;li>Email can be omitted.&lt;/li>
&lt;li>Note renewing certificate involves running the same command. If you need to remember what options you chose you can run:&lt;/li>
&lt;/ul>
&lt;pre>&lt;code>openssl x509 -in ca.crt -noout -text
&lt;/code>&lt;/pre>&lt;h3 id="move-ca-cert">Move CA cert&lt;/h3>
&lt;p>To: &lt;code>/etc/ssl/private/client-cert-ca.crt&lt;/code>&lt;/p>
&lt;h3 id="update-nginx-config">Update Nginx config&lt;/h3>
&lt;p>We need to add CA cert, turn on client ssl authentication and add location block:&lt;/p>
&lt;pre>&lt;code>ssl_client_certificate /etc/ssl/private/client-cert-ca.crt;
ssl_verify_client optional;
location / {
if ($ssl_client_verify != SUCCESS) {
return 403;
}
proxy_pass http://localhost:3000;
proxy_http_version 1.1;
proxy_set_header Upgrade $http_upgrade;
proxy_set_header Connection &amp;quot;upgrade&amp;quot;;
proxy_set_header Host $http_host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto https;
proxy_set_header X-Nginx-Proxy true;
proxy_redirect off;
}
&lt;/code>&lt;/pre>&lt;h2 id="step-6-issue-client-ssl-certificates-for-users">Step 6: Issue Client SSL Certificates for users&lt;/h2>
&lt;p>You can have your users perform most of these steps if you want. But the following are the steps needed to create a certificate to present as client authentication.&lt;/p>
&lt;h3 id="generate-key-for-user">Generate key for user&lt;/h3>
&lt;pre>&lt;code>openssl genrsa -des3 -out user.key 4096
&lt;/code>&lt;/pre>&lt;h3 id="generate-a-csr">Generate a CSR&lt;/h3>
&lt;pre>&lt;code>openssl req -new -key user.key -out user.csr
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>A number of questions will be asked; answer each one, including the Common Name (CN) and email address. The CSR needs to be sent to the admin (or you if you are doing this for the user).&lt;/li>
&lt;/ul>
&lt;h3 id="sign-csr-with-ca">Sign CSR with CA&lt;/h3>
&lt;p>As the admin, take the CSR given to you or generated by you and sign the CSR and create valid certificate:&lt;/p>
&lt;pre>&lt;code>openssl x509 -req -days 365 -in user.csr -CA ca.crt -CAkey ca.key -set_serial 01 -out user.crt
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>Youâ€™ll want to increment the serial number with each signing. Once the certificate expires, a new CSR doesnâ€™t need to be recreated; the same one can be signed, which will create a new certificate tied to that public key.&lt;/li>
&lt;/ul>
&lt;h3 id="return-certificate">Return Certificate&lt;/h3>
&lt;p>The signed certificate (user.crt) can now be sent back to the user along with the CA cert(ca.crt).&lt;/p>
&lt;p>To be able to use in browsers and mobile generate a pkcs #12 using the user cert and key along with the Ca:&lt;/p>
&lt;pre>&lt;code>openssl pkcs12 -export -out user.pfx -inkey user.key -in user.crt -certfile ca.crt
&lt;/code>&lt;/pre>&lt;p>Beware if you intend to install on Mac or iOS, you may need to use an older version of OpenSSL. More info here: &lt;a href="https://developer.apple.com/forums/thread/697030?answerId=710429022#710429022"target="_blank">https://developer.apple.com/forums/thread/697030?answerId=710429022#710429022&lt;/a>&lt;/p>
&lt;h2 id="step-7-access-rocketchat-using-client-ssl-certificate">Step 7: Access Rocket.Chat using Client SSL Certificate&lt;/h2>
&lt;p>To access your application with client certificate authentication:&lt;/p>
&lt;h3 id="on-ios">On iOS:&lt;/h3>
&lt;ul>
&lt;li>Add the file on Files app (depending on what you do, iOS will try to install it on the whole OS. e.g. copying from airdrop)&lt;/li>
&lt;li>Go to new server screen and try the server URL just to confirm (an error message should show because you haven&amp;rsquo;t applied the cert yet)&lt;/li>
&lt;li>Tap &lt;code>apply your certificate&lt;/code> on the bottom of the screen and select it from the Files app&lt;/li>
&lt;li>Try again, and it should navigate to the workspace info&lt;/li>
&lt;/ul>
&lt;h3 id="on-android">On Android:&lt;/h3>
&lt;ul>
&lt;li>Install the certificate&lt;/li>
&lt;li>Go to new server screen and try the server URL just to confirm (an error message should show because you haven&amp;rsquo;t applied the cert yet)&lt;/li>
&lt;li>Tap &lt;code>apply your certificate&lt;/code>, and the OS should prompt you to select a cert&lt;/li>
&lt;li>Select it&lt;/li>
&lt;li>Tap connect, and it should navigate to the workspace info&lt;/li>
&lt;/ul>
&lt;h3 id="on-firefox">On Firefox:&lt;/h3>
&lt;ul>
&lt;li>Open Firefox and click on the three horizontal lines in the top-right corner of the window.&lt;/li>
&lt;li>Select &amp;ldquo;Preferences&amp;rdquo;.&lt;/li>
&lt;li>In the left-hand menu, click on &amp;ldquo;Privacy &amp;amp; Security&amp;rdquo;.&lt;/li>
&lt;li>Scroll down to the &amp;ldquo;Certificates&amp;rdquo; section and click on &amp;ldquo;View Certificates&amp;rdquo;.&lt;/li>
&lt;li>Click on the &amp;ldquo;Your Certificates&amp;rdquo; tab.&lt;/li>
&lt;li>Click on &amp;ldquo;Import&amp;rdquo;.&lt;/li>
&lt;li>Browse to the location of your client certificate file and select it.&lt;/li>
&lt;li>Enter the password for the certificate if prompted.&lt;/li>
&lt;li>Click &amp;ldquo;OK&amp;rdquo;.&lt;/li>
&lt;li>Your client certificate should now be imported and ready to use in Firefox.&lt;/li>
&lt;li>Visit the address and you should be prompted to select the certificate.&lt;/li>
&lt;/ul>
&lt;p>Congratulations! You have successfully set up client SSL certificate authentication for &lt;a href="http://Rocket.Chat"target="_blank">Rocket.Chat&lt;/a> using Nginx.&lt;/p>
&lt;p>Extremely useful Reference: &lt;a href="https://fardog.io/blog/2017/12/30/client-side-certificate-authentication-with-nginx/"target="_blank">https://fardog.io/blog/2017/12/30/client-side-certificate-authentication-with-nginx/&lt;/a>&lt;/p></description></item><item><title>Adventures of the Geek: Remote Password Reset</title><link>https://geekgonecrazy.com/2022/06/16/adventures-of-the-geek-remote-password-reset/</link><pubDate>Thu, 16 Jun 2022 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2022/06/16/adventures-of-the-geek-remote-password-reset/</guid><description>
&lt;p>Our adventure begins on a Monday evening. I received a call from a family member that lives a bit over 8 hours away.&lt;/p>
&lt;blockquote>
&lt;p>I powered on my laptop today and it won&amp;rsquo;t take my password&lt;/p>
&lt;/blockquote>
&lt;p>Unfortunately the laptop runs Windows 10. I have made it a point to not use windows and haven&amp;rsquo;t for last several years. Primarily using linux or osx. Leaving me at a bit of a disadvantage.&lt;/p>
&lt;p>So then I did what any self respecting computer guy does when need to find out the options. I duckduckgo&amp;rsquo;d it!&lt;/p>
&lt;h2 id="options-to-do-password-reset">Options to do Password Reset&lt;/h2>
&lt;p>Found a few options&lt;/p>
&lt;h3 id="password-reset-via-security-questions">Password Reset via Security Questions&lt;/h3>
&lt;p>Apparently these weren&amp;rsquo;t set. Looks like it was introduced on Windows 10 Version 1803. Not sure if we originally installed before then or exactly what happened.. but didn&amp;rsquo;t have this.. so wasn&amp;rsquo;t an option.&lt;/p>
&lt;h3 id="password-reset-via-password-reset-disk-or-usb">Password Reset via Password Reset Disk or USB&lt;/h3>
&lt;p>We hadn&amp;rsquo;t prepared one. Awesome&amp;hellip; After this is solved, making one is a must.&lt;/p>
&lt;h3 id="password-reset-via-microsoft-account">Password Reset via Microsoft Account&lt;/h3>
&lt;p>This was a local account.. not an option.&lt;/p>
&lt;h3 id="password-reset-via-safe-mode">Password Reset via Safe Mode&lt;/h3>
&lt;p>Tried this..&lt;/p>
&lt;p>I honestly don&amp;rsquo;t know what happened here. I tried to navigate doing this based on screenshots on the internet. Relying on my remote eyes and hands to describe what was happening.&lt;/p>
&lt;p>It didn&amp;rsquo;t work.&lt;/p>
&lt;h3 id="password-reset-via-offline-windows-password--registry-editor">Password Reset via Offline Windows Password &amp;amp; Registry Editor&lt;/h3>
&lt;p>More info about it can be found here: &lt;a href="https://pogostick.net/~pnh/ntpasswd/">https://pogostick.net/~pnh/ntpasswd/&lt;/a>&lt;/p>
&lt;p>This one had a lot of potential. Looked like it would do exactly what I needed.&lt;/p>
&lt;p>Requested my helpful remote hands find a flash drive and put in an older laptop in the house. Used teamviewer to connect. It was already installed this isn&amp;rsquo;t the first time i&amp;rsquo;ve needed to help out with something.&lt;/p>
&lt;p>From there I downloaded a super lightweight tool called &lt;a href="https://rufus.ie/"target="_blank">Rufus&lt;/a> and put the ISO on the flash drive.&lt;/p>
&lt;p>With a little luck and a little trial and error. We managed to boot from the USB. But kept getting &amp;ldquo;&lt;a href="https://www.reddit.com/r/techsupport/comments/7j4z5t/pogostick_ntpasswd_error_kernel_panic_not_syncing/"target="_blank">Kernel panic not syncing&lt;/a>&amp;rdquo;. Even after trying all suggested work arounds.&lt;/p>
&lt;p>This took several hours of verbally instructing these options to try, rebooting trying again.. Flashing an older version.&lt;/p>
&lt;p>All with the same results.&lt;/p>
&lt;p>We had spent several hours by this point. The idea was even suggested that would make unscheduled trip to visit us. Given the price of gas though and how rough it was for them to travel.. I really didn&amp;rsquo;t want it to come to this.&lt;/p>
&lt;p>We decided to call it a night. Went to bed thinking how much easier it would be if I could just use my own eyes and hands. I&amp;rsquo;m a problem solver. I knew that if I was able to see it with my own eyes and use my own hands.. The whole try, process and iterate can happen &lt;strong>a lot faster&lt;/strong>!&lt;/p>
&lt;h2 id="being-able-to-use-my-own-eyes-and-hands">Being able to use my own eyes and hands&lt;/h2>
&lt;p>Sounds a bit clichÃ©.. But it hit me in the shower Tuesday morning.&lt;/p>
&lt;p>I&amp;rsquo;ve made livecd&amp;rsquo;s before&amp;hellip; What if I could have a livecd like the one we had tried.. but based on a more versital distro like Ubuntu. Ubuntu typically boots up on just works about any hardware.&lt;/p>
&lt;p>While i&amp;rsquo;m at it, what if it connected back to me so I could run commands my self? With linux at my hands.. I knew we could get it resolved.&lt;/p>
&lt;h3 id="connect-back-to-me">Connect back to me?&lt;/h3>
&lt;p>Turns out this is actually extremely easy.&lt;/p>
&lt;p>With ssh you can expose a local port remotely with a command like this:&lt;/p>
&lt;pre>&lt;code>ssh -i ~/path-to-ssh-key -R 4022:localhost:22 -N user@my-vps
&lt;/code>&lt;/pre>&lt;p>It uses an ssh key and expose port 22 on the remote host on port 4022.&lt;/p>
&lt;h3 id="creating-your-own-livecd">Creating your own livecd?&lt;/h3>
&lt;p>I&amp;rsquo;ll save you from some of the discovery. There are many ways to create linux livecds. A few of even with a GUI.&lt;/p>
&lt;p>But, I wanted a way to do it quickly and repeatable with out having to use a GUI.&lt;/p>
&lt;p>I&amp;rsquo;ve made some before manually but not very repeatable as it was always manually editing the squashfs and chrooting in and poking around.&lt;/p>
&lt;p>I found this guide great example of loading a livecd as a docker image and then using docker to modify it&lt;/p>
&lt;p>&lt;a href="https://slai.github.io/posts/customising-ubuntu-live-isos-with-docker/">https://slai.github.io/posts/customising-ubuntu-live-isos-with-docker/&lt;/a>&lt;/p>
&lt;p>Perfect!&lt;/p>
&lt;h3 id="lets-make-it">Lets make it!&lt;/h3>
&lt;p>The important aspects of the livecd would be:&lt;/p>
&lt;ol>
&lt;li>Lighter weight - Ubuntu Server would be the base.&lt;/li>
&lt;li>Automatically connect to the internet&lt;/li>
&lt;li>Automatically run the ssh tunnel back to me&lt;/li>
&lt;li>Automatically reconnect the ssh tunnel if disconnected&lt;/li>
&lt;li>Have some preinstalled tools
&lt;ul>
&lt;li>ntfs - i&amp;rsquo;d need to mount that partition&lt;/li>
&lt;li>ssh server - of course&lt;/li>
&lt;li>chntpw - most importantly in this case the tool we discovered thanks to the previous day that could modify the registry&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Baked ssh keys for bi-directional communciation&lt;/li>
&lt;/ol>
&lt;p>Nice to have:&lt;/p>
&lt;ol>
&lt;li>Don&amp;rsquo;t start up the installer it would be confusing&lt;/li>
&lt;li>Customize boot menu so it doesn&amp;rsquo;t say &amp;ldquo;Install Ubuntu Server&amp;rdquo;&lt;/li>
&lt;li>Include some text above the login prompt to communicate to the user&lt;/li>
&lt;/ol>
&lt;p>For more technical details see this github repo: &lt;a href="https://github.com/geekgonecrazy/remote-recover-livecd">https://github.com/geekgonecrazy/remote-recover-livecd&lt;/a>&lt;/p>
&lt;p>I set about building after my work day ended.&lt;/p>
&lt;h3 id="attack-of-the-remote-desktop-tooling">Attack of the remote desktop tooling&lt;/h3>
&lt;p>It came time to load the iso up on the USB drive.&lt;/p>
&lt;p>Teamviewer showed its true colors.&lt;/p>
&lt;p>They apparently decided since I needed to remote in two days in a row.. that I was exhibiting signs of commercial use.&lt;/p>
&lt;p>Meaning apparently they start being extremely aggressive. My first session of the evening was barely open and then abruptly ended. I tried connecting again and it said something like: You can&amp;rsquo;t reconnect again so soon try again at: 17:55.&lt;/p>
&lt;p>I waited until then and it showed another saying try again at 17:56. I guess a clock is off somewhere or the error time frame was wrong? It ended up being at least 5 minutes before could connect.&lt;/p>
&lt;p>Here begun that pattern of wait 5 minutes.. Scramble to work for 1 minute before getting the session ripped away from me.&lt;/p>
&lt;p>&lt;strong>Extremely frustrating!&lt;/strong>&lt;/p>
&lt;p>I did debate paying them. But appears they don&amp;rsquo;t sell monthly.. so I&amp;rsquo;d have to shell out $400+ just to ocassionally use it to help out family. Nope.. Sorry.&lt;/p>
&lt;p>I went shopping for another tool. Even if I had to pay for it surely there is something better out there.&lt;/p>
&lt;p>I &lt;a href="https://fosstodon.org/@geekgonecrazy/108478535293237696"target="_blank">posted about this frustration on mastodon&lt;/a>&lt;/p>
&lt;p>Big thanks to @amolith@nixnet.social for the suggestion&lt;/p>
&lt;p>&lt;img src="https://user-images.githubusercontent.com/51996/174218187-0463babe-38af-4f3f-bf24-5eea9cfd5b30.png"
alt/>&lt;/p>
&lt;p>&lt;a href="https://rustdesk.com"target="_blank">Rustdesk&lt;/a> was perfect!&lt;/p>
&lt;p>30 minutes or so later&amp;hellip; Thanks teamviewer.. I had rustdesk installed and was able to move forward.&lt;/p>
&lt;p>If you are using teamviewer I highly recommend switching to RustDesk. You can even self host the server portion if you want.&lt;/p>
&lt;p>From there used Rufus to put on the USB and then had them plug ethernet into laptop along with the fresh USB.&lt;/p>
&lt;p>We booted.. and it didn&amp;rsquo;t connect back up.&lt;/p>
&lt;p>&lt;img src="https://media.giphy.com/media/xT5LMzIK1AdZJ4cYW4/giphy.gif"
alt/>&lt;/p>
&lt;p>We had to call it a night. This ended night 2.&lt;/p>
&lt;h2 id="one-more-try">One more try&lt;/h2>
&lt;p>Wednesday came and I quickly realized it was netplan.. I think because I had removed the installer squashfs not thinking much about it.. It must have been initalizing a netplan file.&lt;/p>
&lt;p>At the end of the work day I made some changes and built the iso again. Quick rustdesk and rufus later&amp;hellip;&lt;/p>
&lt;p>USB inserted and there it was!&lt;/p>
&lt;p>I finally had access and the process could finally begin of resetting the password!&lt;/p>
&lt;p>10 minutes later the password was reset.&lt;/p>
&lt;h2 id="that-was-a-lot">That was a lot&lt;/h2>
&lt;p>Yes it was! 3 days to reset a password. Just a bit crazy..&lt;/p>
&lt;p>But now I have a flash drive on site that if this ever happens again.. I can spin up my vps and have them insert the flash drive.&lt;/p>
&lt;p>So all in all.. Another tool for the tool belt. Definitely might be closer to earning the Crazy in Geek Gone Crazy. :smile:&lt;/p>
&lt;h2 id="you-left-me-hanging-how-did-you-reset">You left me hanging how did you reset?&lt;/h2>
&lt;p>Ok if you want the last 10 minutes.. they went something like this.&lt;/p>
&lt;p>I mounted the hard drive with a quick:&lt;/p>
&lt;pre>&lt;code>mkdir /mnt/laptop
mount /dev/sda2 /mnt/laptop
&lt;/code>&lt;/pre>&lt;p>Using &lt;code>fdisk -l&lt;/code> to determine the drive and partition.&lt;/p>
&lt;p>Then:&lt;/p>
&lt;pre>&lt;code>cd /mnt/laptop/Windows/System32/config
&lt;/code>&lt;/pre>&lt;p>Here is where all of the registry hive files are for windows.&lt;/p>
&lt;p>Now we use the chntpwd util we pre-installed&lt;/p>
&lt;pre>&lt;code>chntpw â€“l SAM
&lt;/code>&lt;/pre>&lt;p>From here you follow the prompts to reset the password. Or in my case I went the path of just blanking the password out.&lt;/p>
&lt;p>&lt;img src="https://media.giphy.com/media/PqjTdvXImZQfcmTYEO/giphy.gif"
alt/>&lt;/p></description></item><item><title>Rocket.Chat and the Matrix Protocol</title><link>https://geekgonecrazy.com/2022/05/30/rocketchat-and-the-matrix-protocol/</link><pubDate>Mon, 30 May 2022 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2022/05/30/rocketchat-and-the-matrix-protocol/</guid><description>
&lt;p>Rocket.Chat &lt;a href="https://rocket.chat/press-releases/rocket-chat-leverages-matrix-protocol-for-decentralized-and-interoperable-communications"target="_blank">now has federation support via the Matrix protocol&lt;/a>.&lt;/p>
&lt;p>This announcement is an exciting one to me. I&amp;rsquo;ve been working with Rocket.Chat since I found it almost 7 years ago. One of the things I recall from early on is the vision of being as ubiquitious as email. One of the beauties of email is not everyone is on the same domain or let alone even the same kind of mail server. Just all speaking the same language.&lt;/p>
&lt;p>Rocket.Chat being able to talk the Matrix Protocol to me is a start of it achieving that.&lt;/p>
&lt;p>It does this by registering as an AppService with a Matrix homeserver. This means Rocket.Chat is able to create users on the homeserver and then manage them. So when you opt to federate a room and invite a remote user using Matrix. Rocket.Chat creates your user on the homeserver and controls it as if they are one and the same user.&lt;/p>
&lt;p>tl;dr You can now talk to anyone speaking the Matrix Protocol from Rocket.Chat.&lt;/p>
&lt;h1 id="how-to-setup-rocketchat-with-a-matrix-homeserver">How to setup Rocket.Chat with a Matrix homeserver&lt;/h1>
&lt;ul>
&lt;li>&lt;strong>Matrix support in Rocket.Chat is currently considered alpha. Expect things to break&lt;/strong>&lt;/li>
&lt;li>&lt;strong>This guide also uses Dendrite which is beta&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>Video guide should you prefer that format:
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
&lt;iframe src="https://www.youtube.com/embed/oQhIH8kql9I" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video">&lt;/iframe>
&lt;/div>
&lt;/p>
&lt;h2 id="compute-requirements">Compute Requirements&lt;/h2>
&lt;p>If your Rocket.Chat workspace will only support a few users you can generally get away with a machine like:&lt;/p>
&lt;ul>
&lt;li>2GB of RAM&lt;/li>
&lt;li>2CPU&lt;/li>
&lt;li>20GB of Storage&lt;/li>
&lt;/ul>
&lt;p>If you start using it more heavily you&amp;rsquo;ll probably want to increase to a couple of CPU and more ram. See the &lt;a href="https://docs.rocket.chat"target="_blank">Rocket.Chat Documentation&lt;/a> for more details.&lt;/p>
&lt;p>In this case i&amp;rsquo;ve selected this digitalocean droplet:
&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>I&amp;rsquo;ve also selected Ubuntu 20.04 as the distro.&lt;/p>
&lt;h2 id="domain-requirements">Domain Requirements&lt;/h2>
&lt;p>You&amp;rsquo;ll need a domain you control. In this case i&amp;rsquo;m going to use geekgone.dev.&lt;/p>
&lt;p>For federation generally the idea is that you are accessed much like you are by email.&lt;br>
So if I was to be reached at aaron [at] geekgone.dev then I would also be reached at @aaron:geekgone.dev.&lt;/p>
&lt;p>Either way you need to decide what domain will you be reached at? We&amp;rsquo;ll call this the federated domain. Then you&amp;rsquo;ll also need to expose matrix and Rocket.Chat on their perspective domains.&lt;/p>
&lt;p>In my case i&amp;rsquo;m going to use:&lt;/p>
&lt;ul>
&lt;li>Federated Domain: geekgone.dev&lt;/li>
&lt;li>Rocket.Chat Domain: chat.geekgone.dev&lt;/li>
&lt;li>Matrix Domain: matrix.geekgone.dev&lt;/li>
&lt;/ul>
&lt;p>Go ahead and point those all at the machine you&amp;rsquo;ve provisioned.&lt;/p>
&lt;p>&lt;img src="https://user-images.githubusercontent.com/51996/170783824-d8afd20a-2aae-4dd2-8ce6-9b1173eb45d8.png"
alt="image"/>&lt;/p>
&lt;h2 id="install-some-pre-reqs">Install some pre-reqs&lt;/h2>
&lt;p>We need a reverse proxy. I&amp;rsquo;m going to use nginx:&lt;/p>
&lt;pre>&lt;code>sudo apt update &amp;amp;&amp;amp; sudo apt install -y nginx
&lt;/code>&lt;/pre>&lt;p>Now we need docker:&lt;/p>
&lt;pre>&lt;code>curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh
&lt;/code>&lt;/pre>&lt;p>Now for ease we&amp;rsquo;ll add our self to the docker group and assume it:&lt;/p>
&lt;pre>&lt;code>sudo usermod -a -G docker ubuntu
newgrp docker
&lt;/code>&lt;/pre>&lt;p>Finally we need certbot. This is one of the quickest and easiest way to install it currently:&lt;/p>
&lt;pre>&lt;code>sudo snap install --classic certbot
&lt;/code>&lt;/pre>&lt;h2 id="configure-lets-encrypt-certificates">Configure Lets Encrypt Certificates&lt;/h2>
&lt;pre>&lt;code>certbot certonly --nginx -d geekgone.dev,chat.geekgone.dev,matrix.geekgone.dev
&lt;/code>&lt;/pre>&lt;h2 id="setup-nginx-rules">Setup Nginx Rules&lt;/h2>
&lt;p>Edit /etc/nginx/sites-available/default&lt;/p>
&lt;pre>&lt;code>server {
listen 80 ;
listen [::]:80 ;
if ($host = geekgone.dev) {
return 301 https://$host$request_uri;
}
if ($host = chat.geekgone.dev) {
return 301 https://$host$request_uri;
}
if ($host = matrix.geekgone.dev) {
return 301 https://$host$request_uri;
}
server_name matrix.geekgone.dev chat.geekgone.dev geekgone.dev;
return 404;
}
server {
listen 443 ssl;
ssl_certificate /etc/letsencrypt/live/geekgone.dev/fullchain.pem;
ssl_certificate_key /etc/letsencrypt/live/geekgone.dev/privkey.pem;
include /etc/letsencrypt/options-ssl-nginx.conf;
ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;
root /var/www/html;
server_name geekgone.dev;
location /.well-known/matrix/ {
proxy_set_header Host $host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;
proxy_pass http://localhost:8008;
proxy_read_timeout 90;
}
}
server {
listen 443 ssl;
ssl_certificate /etc/letsencrypt/live/geekgone.dev/fullchain.pem;
ssl_certificate_key /etc/letsencrypt/live/geekgone.dev/privkey.pem;
include /etc/letsencrypt/options-ssl-nginx.conf;
ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;
root /var/www/html;
server_name chat.geekgone.dev;
location / {
proxy_set_header Host $host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;
proxy_pass http://localhost:3000;
proxy_read_timeout 90;
}
}
server {
listen 443 ssl;
ssl_certificate /etc/letsencrypt/live/geekgone.dev/fullchain.pem;
ssl_certificate_key /etc/letsencrypt/live/geekgone.dev/privkey.pem;
include /etc/letsencrypt/options-ssl-nginx.conf;
ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;
root /var/www/html;
server_name matrix.geekgone.dev;
location / {
proxy_set_header Host $host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;
proxy_pass http://localhost:8008;
proxy_read_timeout 90;
}
}
&lt;/code>&lt;/pre>&lt;p>Do a &lt;code>nginx -t&lt;/code> just to make sure everything is ok.&lt;/p>
&lt;p>Then:&lt;/p>
&lt;pre>&lt;code>systemctl reload nginx
&lt;/code>&lt;/pre>&lt;h2 id="install-rocketchat-and-dendrite">Install Rocket.Chat and Dendrite&lt;/h2>
&lt;p>I&amp;rsquo;ve commited a docker-compose and config file in a public repo. So will start off with grabbing that:&lt;/p>
&lt;pre>&lt;code>git clone https://github.com/geekgonecrazy/rocketchat-matrix-federation-example.git matrix
cd matrix
&lt;/code>&lt;/pre>&lt;p>Lets bring Rocket.Chat up:&lt;/p>
&lt;pre>&lt;code>docker compose up -d rocketchat mongo mongo-init-replica
&lt;/code>&lt;/pre>&lt;p>Goto your Rocket.Chat install and finish the initial setup. In my case it was available at &lt;a href="https://chat.geekgone.dev">https://chat.geekgone.dev&lt;/a>&lt;/p>
&lt;p>Now goto: Admin-&amp;gt;Settings-&amp;gt;Federation and expand the Matrix Bridge section&lt;/p>
&lt;p>In the Homeserver URL section use:&lt;/p>
&lt;pre>&lt;code>http://dendrite:8008
&lt;/code>&lt;/pre>&lt;p>In the Homeserver Domain use your federation domain. In my case:&lt;/p>
&lt;pre>&lt;code>geekgone.dev
&lt;/code>&lt;/pre>&lt;p>Now flip to enabled and click save changes.&lt;/p>
&lt;p>Grab the Homeserver Token and the AppService Token and put them some place safe for a moment.&lt;/p>
&lt;p>Rocket.Chat is ready. Now lets go back to the terminal and look at dendrite.&lt;/p>
&lt;p>We need to edit the dendrite config file. Edit: &lt;code>config/dendrite.yaml&lt;/code>&lt;/p>
&lt;p>Replace geekgone.dev in this section with your federation domain:&lt;/p>
&lt;pre>&lt;code>global:
# The domain name of this homeserver.
server_name: geekgone.dev
&lt;/code>&lt;/pre>&lt;p>Replace matrix.geekgone.dev in this section with your matrix domain:&lt;/p>
&lt;pre>&lt;code> # The server name to delegate server-server communications to, with optional port
# e.g. localhost:443
well_known_server_name: &amp;quot;matrix.geekgone.dev:443&amp;quot;
&lt;/code>&lt;/pre>&lt;p>Now we need to edit: &lt;code>config/rocketchat-registration.yaml&lt;/code>
Replace: &lt;code>hs_token&lt;/code> value with the Homeserver Token you got from Rocket.Chat
Replace: &lt;code>as_token&lt;/code> value with the AppService Token you got from Rocket.Chat&lt;/p>
&lt;p>Finally now we can start matrix up:&lt;/p>
&lt;pre>&lt;code>docker compose up -d dendrite
&lt;/code>&lt;/pre>&lt;h2 id="lets-try-talking-to-another-matrix-homeserver">Lets try talking to another Matrix Homeserver&lt;/h2>
&lt;p>Now that we have dendrite up and Rocket.Chat up. Lets go into Rocket.Chat and try sending a message out to a user on another server out there speaking the Matrix Protocol. Can be another Rocket.Chat server, dendrite, synapse etc.&lt;/p>
&lt;p>In this case i&amp;rsquo;m going to use an account from matrix.org &lt;a href="https://matrix.to/#/@geekgonedev-demo:matrix.org"target="_blank">@geekgonedev-demo:matrix.org&lt;/a>&lt;/p>
&lt;p>Create a channel in Rocket.Chat and then do: &lt;code>/bridge invite @geekgonedev-demo:matrix.org&lt;/code>&lt;/p>
&lt;p>The client you have connected on the other server you will receive an invite. Once accepted you can now type a message on either side and if all went well you should receive the message on the other side!&lt;/p>
&lt;p>&lt;em>&lt;strong>Note: if you invite another Rocket.Chat server it currently will auto accept&lt;/strong>&lt;/em>&lt;/p>
&lt;p>I&amp;rsquo;ll leave the server up for a couple of weeks if you want to try reaching me at &lt;a href="https://matrix.to/#/@aaron:geekgone.dev"target="_blank">@aaron:geekgone.dev&lt;/a>&lt;/p>
&lt;p>Happy chatting!&lt;/p></description></item><item><title>Rover Project: Update 3</title><link>https://geekgonecrazy.com/2021/07/04/rover-project-update-3/</link><pubDate>Sun, 04 Jul 2021 00:03:00 +0000</pubDate><guid>https://geekgonecrazy.com/2021/07/04/rover-project-update-3/</guid><description>
&lt;p>Finally a more eventful update!&lt;/p>
&lt;p>Last time I worked with building parts in CAD I was using solidworks or AutoCAD. I have no desire to buy either one of those right now plus I need something that will run on linux. So started investing some time into learning my way around FreeCAD.&lt;/p>
&lt;p>Creating first iteration of the wheel
&lt;img src="/images/2021-07-04/wheel-1-freecad.png"
alt/>&lt;/p>
&lt;p>50mm radius for a 10cm/100mm diameter wheel&lt;/p>
&lt;p>3mm thick&lt;/p>
&lt;p>Based on the specs of the motor:&lt;/p>
&lt;pre>&lt;code>Features:
Rated voltage: DC 3V
Rated speed: 15000 RPM
Motor size: 38 x 20 x 15 mm/1.5&amp;quot; x 0.8&amp;quot; x 0.6&amp;quot;
Shaft diameter: 2 mm/0.08&amp;quot;
Shaft length: 10 mm/0.4&amp;quot;
Material: metal
&lt;/code>&lt;/pre>&lt;p>The hole is 1mm radius for a 2mm diameter hole&lt;/p>
&lt;p>Print time was going to take 2 hours and 9 minutes. So time to reduce some material because we don&amp;rsquo;t want to wait that long&lt;/p>
&lt;p>&lt;img src="/images/2021-07-04/wheel-2-freecad.png"
alt/>&lt;/p>
&lt;p>This takes it down to 1 hour 21 minutes&lt;/p>
&lt;p>After lots of wrestling with bed leveling and things not sticking..
&lt;img src="/images/2021-07-04/wheel-2-printing.jpg"
alt/>&lt;/p>
&lt;p>While this printed we started looking at how we want the body to look. Designing a caster for the 3 wheeled robot we realized was a little harder then we really wanted. Plus we were inspired by a rover&amp;hellip; so we are leaning towards a 4 wheel design with a box to house the brain in&amp;hellip; and surface area on top for mounting things in the future&lt;/p>
&lt;p>&lt;img src="https://i.imgur.com/rz8tl0g.png"
alt/>
&lt;a href="https://www.google.com/url?sa=i&amp;amp;url=https%3A%2F%2Fwww.iconfinder.com%2Ficons%2F3319875%2Fisolated_robot_robotic_rover_space_icon&amp;amp;psig=AOvVaw2DQonss07C0LenXgaGbjZn&amp;amp;ust=1619650814026000&amp;amp;source=images&amp;amp;cd=vfe&amp;amp;ved=0CAIQjRxqFwoTCMjnvs3Dn_ACFQAAAAAdAAAAABAN"target="_blank">source&lt;/a>&lt;/p>
&lt;p>The wheel finished printing!&lt;/p>
&lt;p>&lt;img src="/images/2021-07-04/wheel-2-finished.jpg"
alt/>&lt;/p>
&lt;p>So&amp;hellip; we had to try it!&lt;/p>
&lt;p>&lt;img src="/images/2021-07-04/wheel-spinning.gif"
alt/>&lt;/p>
&lt;p>Woot!&lt;/p>
&lt;p>Queue the other wheels!&lt;/p>
&lt;p>While we waited did a bit of soldering and put antennas on the 433mhz chips&lt;/p>
&lt;p>&lt;img src="/images/2021-07-04/soldering-433-antenna.jpg"
alt/>
&lt;img src="/images/2021-07-04/433-soldered.jpg"
alt/>&lt;/p>
&lt;p>Then set about figuring out basic programs and getting everything hooked up to breadboards.&lt;/p>
&lt;p>Got the L239D H-Bridge working doing speed control.&lt;/p>
&lt;p>Then after a long period of debugging&amp;hellip; finally got the 433mhz transmitter and receiver talking. Ended up getting it working with the virtualwire library.&lt;/p>
&lt;p>&lt;img src="/images/2021-07-04/workbench-with-basic-electronics-working.jpg"
alt/>&lt;/p>
&lt;p>Next step get the chassis designed and printed!&lt;/p></description></item><item><title>Rover Project: Update 2</title><link>https://geekgonecrazy.com/2021/07/04/rover-project-update-2/</link><pubDate>Sun, 04 Jul 2021 00:02:00 +0000</pubDate><guid>https://geekgonecrazy.com/2021/07/04/rover-project-update-2/</guid><description>
&lt;p>So the robot parts sat in my closet for a few months. I kind of forgot to order the parts.&lt;/p>
&lt;p>Recently realized I really need to disconnect more fully from work in my off hours. When your hobby includes coding and in same language as you write for work.. Its a bit harder to keep your brain from making that jump to thinking about work.&lt;/p>
&lt;p>So i&amp;rsquo;ve been on the look out for new hobbies.&lt;/p>
&lt;p>I don&amp;rsquo;t recall where, but I saw someone making something with a 3D printer. Made me wonder how much they were now days. After some research I realized some where actually extremely affordable. After even more research.. I was able to determine that at least a couple of those affordable printers actually were decent.&lt;/p>
&lt;p>The possibilities to prototype things seem endless. Not to mention.. I actually spent the first 2 years of my post highschool schooling at a VoTech school learning CAD. So this is perfect! Those 12+ year old skill can actually be put to use. I say that. But really i&amp;rsquo;ve identified lots of areas that those skills actually have helped me out in how I approach problems. But still.. To actually to use CAD.&lt;/p>
&lt;p>So I bought a 3d printer.&lt;/p>
&lt;p>I&amp;rsquo;ve already printed kids items and been praised as it being a great decision by my kids. Even my wife had me print several things for her baking projects.&lt;/p>
&lt;p>The purchase of the 3D printer has me inspired to push forward with the robot project. Being able to draw up in CAD and print the wheels and chassis will help greatly in moving this foward.&lt;/p>
&lt;p>Time to pick up where we left off.&lt;/p>
&lt;p>When it got shelved we had realized we had the wrong motors and controllers. So first we need to correct that.&lt;/p>
&lt;p>We needed a controller. From reading around looks like this is called an H-Bridge.&lt;/p>
&lt;p>I found a couple of examples using the &lt;code>L293D&lt;/code> seemed like a low cost chip that didn&amp;rsquo;t need a lot of additional components to work with. Also found this great write up about the chip set:&lt;/p>
&lt;p>&lt;a href="https://maker.pro/custom/projects/all-you-need-to-know-about-l293d">https://maker.pro/custom/projects/all-you-need-to-know-about-l293d&lt;/a>&lt;/p>
&lt;p>So picked up a few of those from Amazon.&lt;/p>
&lt;p>Now we&amp;rsquo;ve got to find some DC motors. This might be a point i&amp;rsquo;ll have to iterate on. But as long as I can power them and they will move I think we will be good. Ordered a pack of DC Motor 1.5V-3V 15000RPM.&lt;/p>
&lt;p>&lt;a href="https://www.amazon.com/gp/product/B07JYM8H18/ref=ppx_yo_dt_b_asin_title_o01_s01?ie=UTF8&amp;amp;psc=1">https://www.amazon.com/gp/product/B07JYM8H18/ref=ppx_yo_dt_b_asin_title_o01_s01?ie=UTF8&amp;amp;psc=1&lt;/a>&lt;/p>
&lt;p>I&amp;rsquo;m not 100% positive on these.. But looks like operates between 1.5-6V. Also claims 3 hours running on 2 x 1.5V AA batteries. So with 4 and other components maybe we can get at least 30 minutes?&lt;/p>
&lt;p>A couple of articles I found on working with this H-Bridge:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://dumblebots.com/2019/09/29/controlling-motors-with-arduino-and-h-bridges/">https://dumblebots.com/2019/09/29/controlling-motors-with-arduino-and-h-bridges/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://bc-robotics.com/tutorials/controlling-dc-motor-arduino/">https://bc-robotics.com/tutorials/controlling-dc-motor-arduino/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://maker.pro/custom/projects/all-you-need-to-know-about-l293d">https://maker.pro/custom/projects/all-you-need-to-know-about-l293d&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Now to wait on these parts to arrive. Plus some tools needed to build out my electronics work area. Has been pretty barebones since Harvey. Time to fix that :)&lt;/p></description></item><item><title>Rover Project: Update 1</title><link>https://geekgonecrazy.com/2021/07/04/rover-project-update-1/</link><pubDate>Sun, 04 Jul 2021 00:01:00 +0000</pubDate><guid>https://geekgonecrazy.com/2021/07/04/rover-project-update-1/</guid><description>
&lt;p>Parts came in!&lt;/p>
&lt;p>&lt;img src="/images/2021-07-04/parts-1.jpg"
alt/>
&lt;img src="/images/2021-07-04/parts-2.jpg"
alt/>&lt;/p>
&lt;p>Finally got time to work on it again. We wired everything up.&lt;/p>
&lt;p>&lt;img src="/images/2021-07-04/parts-hookup-1.jpg"
alt/>&lt;/p>
&lt;p>We gathered up some cardboard. We found something to trace and cut out 4 wheels. (you&amp;rsquo;ll notice this is defintely a deviation from the original sketch. But this was insisted on once the additional motors were spotted).&lt;/p>
&lt;p>&lt;img src="/images/2021-07-04/parts-hookup-2.jpg"
alt/>&lt;/p>
&lt;p>We also put together the transmitter on another breadboard&lt;/p>
&lt;p>&lt;img src="/images/2021-07-04/parts-hookup-3.jpg"
alt/>&lt;/p>
&lt;p>Now if you do electronics seriously at all you&amp;rsquo;ll probably notice straight away two different issues. I was tempted to omit it and just have the build log with final parts.. But this is part of the journey. I think it was important for kids to go through as well. Not everything works first time around. In fact probably doesn&amp;rsquo;t most of the time.&lt;/p>
&lt;p>Issue 1: Those are stepper motors and drivers. ðŸ™ˆ Yeah.. I don&amp;rsquo;t even know how I did that. I did place the order late.. but I even have some articles stashed away specifically for working with those drivers. So its not like I didn&amp;rsquo;t research the parts. We&amp;rsquo;ll chock it up to lesson learned though.&lt;/p>
&lt;p>Issue 2: Those 433Mhz Transmitter / Receivers don&amp;rsquo;t have even their basic included antenna&amp;rsquo;s soldered on. Reading later.. with out an antenna range is like a few centemeters.&lt;/p>
&lt;p>Needless to say we discovered both of these issues after several hours. I pretty quickly wrote up the arduino code for both. I wrote the code that would send a simple signal that would include a signal for both the left and the right side tank style.&lt;/p>
&lt;p>My Plan was:&lt;/p>
&lt;ul>
&lt;li>Forward: 01 FF 01FF&lt;/li>
&lt;li>Backward: 02 FF 02 FF&lt;/li>
&lt;li>Forward Left: 01 FF 01 99&lt;/li>
&lt;li>Forward Right: 01 99 01 FF&lt;/li>
&lt;/ul>
&lt;p>Pattern being: {Left Motor Polarity} {Left Motor Speed} {Right Motor Polarity} {Right Motor Speed}&lt;/p>
&lt;p>With the speed being 0-255 represented in hex. No CRC or anything at first.&lt;/p>
&lt;p>This didn&amp;rsquo;t work.&lt;/p>
&lt;p>So figured maybe I was being too clever and switch to transmitting strings and probably 10x variations.&lt;/p>
&lt;p>So after still not even a hum from the motors.. I figured it must be just something wrong with the 433Mhz pair. I wanted to at least validate the motors worked. So I found an example program for those motors show them working. It was here and getting this to work&amp;hellip; I realized these aren&amp;rsquo;t really the right motors for the wheels.&lt;/p>
&lt;p>So we shelved it until I could go and order the right motors.&lt;/p>
&lt;p>It wasn&amp;rsquo;t until later I actually realized I some how completely spazzed on putting antenna&amp;rsquo;s on and their range was only centimeters with out one.&lt;/p></description></item><item><title>Rover Project</title><link>https://geekgonecrazy.com/2021/07/04/rover-project/</link><pubDate>Sun, 04 Jul 2021 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2021/07/04/rover-project/</guid><description>
&lt;p>My family is very STEM oriented. I grew up learning hands on at home. Taking things apart. Questioning how things worked and eventually learning how to actually fix those things I took apart. As much as possible we&amp;rsquo;re trying to encourage this for our kids.&lt;/p>
&lt;p>They are pretty fortunate as they have good examples of this on both sides of the family. So they come by their curiousity about the world around them very naturally. Now days its not surprising to get asked questions about things even we don&amp;rsquo;t know or remember the answer to.&lt;/p>
&lt;p>Not going to pretend some times the constant questions doesn&amp;rsquo;t get a little annoying. But just have to stop and appreciate the curiousity and help them learn more about the things they are actually curious about.&lt;/p>
&lt;p>Anyways we often watch Rocket Launches together. Now days thanks to the likes of SpaceX, Rocket Labs and even the old school ULA and others.. we frequently get to watch something launch.&lt;/p>
&lt;p>About a year ago on 07/30/2020 we watched the Mars Perseverance mission take off. This kicked off a flurry of questions.&lt;/p>
&lt;p>What is it launching? What is the rover? What does it do? How will it land? How does it work?&lt;/p>
&lt;p>Then after spending some time showing them and answering. I was left with one statement:&lt;/p>
&lt;blockquote>
&lt;p>I wish kids like us could make robots&lt;/p>
&lt;/blockquote>
&lt;p>I like making things.. and I used to help a highschool robotics team build their robot for competition every year. I really missed it. So really this was a win-win-win:&lt;/p>
&lt;ul>
&lt;li>I get to teach my kids how to approach engineering problems as best I know how.&lt;/li>
&lt;li>They are really excited&lt;/li>
&lt;li>I get to work on building something too&lt;/li>
&lt;/ul>
&lt;p>So off began the process!&lt;/p>
&lt;h2 id="brainstorming">Brainstorming&lt;/h2>
&lt;p>So we started right off with brainstorming. During brainstorming we came up with a quick sketch of some that it could look like:&lt;/p>
&lt;p>&lt;img src="/images/2021-07-04/rover-sketch-1.png"
alt/>&lt;/p>
&lt;p>A couple of things to note:&lt;/p>
&lt;ol>
&lt;li>There is an arm&lt;/li>
&lt;li>In the left corner there is a tablet controlling&lt;/li>
&lt;/ol>
&lt;p>We&amp;rsquo;re considering these stretch goals. We agreed that the first priority was getting a basic robot built.&lt;/p>
&lt;p>But through brainstorming we identified the main pieces that will be needed:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>2 motors to drive the wheels&lt;/p>
&lt;/li>
&lt;li>
&lt;p>2 wheels&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A base to act as chassis and to put the electronics on&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Transmitter / Receiver&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bread boards - I didnâ€™t have any more.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Batteries&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A brain - some sort of microcontroller&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>We also identified that we would need some buttons and a way to control. So we needed some buttons.&lt;/p>
&lt;p>We werenâ€™t too certain on the construction of it. We figured maybe CDâ€™s would make ok wheels. Weâ€™ve seen robots with CD wheels. Also we have plenty of cardboard. Might work as a prototype.&lt;/p>
&lt;p>I tried to involve the kids as much as possible on the research behind the parts to choose. But this part quickly bored them. So I went off and spent a few hours that evening locating all of the parts.&lt;/p>
&lt;p>Landed on using the Ardunio Nano. This is mostly because info for arduino is a lot easier to come by. I donâ€™t want to waste too much time on the code portion. I want to be able to explain and the kids be able to follow along with the code and how it works.&lt;/p>
&lt;p>For the batteries Iâ€™m a noob on batteries. I didnâ€™t want to go off and order some rechargable battery and it be wrong for our circuit. From what I could tell for the Arduino nano everything seemed to be 1.5V compatible so just picked up battery pack to put AA batteries in.&lt;/p>
&lt;p>&lt;strong>Motorsâ€¦ Iâ€™m writing this in retrospectâ€¦ so I donâ€™t really know why I ended up purchasing stepper motors and the controllers. Its of course not a wasteâ€¦ But it did delay the project.&lt;/strong>&lt;/p>
&lt;p>Parts Ordered:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.amazon.com/gp/product/B087B5NWY4/ref=ppx_yo_dt_b_asin_title_o03_s03?ie=UTF8&amp;amp;psc=1"target="_blank">Motors&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.amazon.com/gp/product/B07G99NNXL/ref=ppx_yo_dt_b_asin_title_o03_s01?ie=UTF8&amp;amp;psc=1"target="_blank">Arduino Nano&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.amazon.com/gp/product/B086ZL8W1W/ref=ppx_yo_dt_b_asin_title_o03_s00?ie=UTF8&amp;amp;psc=1"target="_blank">433Mhz Transmitter / Receivers&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.amazon.com/gp/product/B07C6T6YCZ/ref=ppx_yo_dt_b_asin_title_o03_s00?ie=UTF8&amp;amp;psc=1"target="_blank">AA Battery box&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Now we waited on the parts to arrive.&lt;/p></description></item><item><title>OVH Serial over LAN (SOL)</title><link>https://geekgonecrazy.com/2020/09/07/ovh-serial-over-lan-sol/</link><pubDate>Mon, 07 Sep 2020 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2020/09/07/ovh-serial-over-lan-sol/</guid><description>
&lt;p>Its been a while since I&amp;rsquo;ve worked with physical servers and typically when something happened I could pretty quickly get physical access to the box if things went pear shaped.&lt;/p>
&lt;p>But when you buy or lease servers from a provider like OVH. Those servers might be sitting half way around the world. So if something goes wrong you need to some how virtually be in front of the keyboard.&lt;/p>
&lt;p>OVH has a few different ways to access your servers console to interact with the machine directly.&lt;/p>
&lt;ul>
&lt;li>From a Java applet (KVM)&lt;/li>
&lt;/ul>
&lt;p>This way while works across all of the servers.. requires Java Runtime.. Yuck. Not to mention it isn&amp;rsquo;t necessarily going to work on every machine.&lt;/p>
&lt;ul>
&lt;li>Via your web browser (KVM)&lt;/li>
&lt;/ul>
&lt;p>This way is by far the best. But seems for some reason, i&amp;rsquo;m not completely sure why.. its not available for all of their servers. So its not really a consistent option&lt;/p>
&lt;ul>
&lt;li>Serial over LAN (SOL)&lt;/li>
&lt;/ul>
&lt;p>This way is probably the most easy to work with. Can access over ssh from any device that can ssh. Which is pretty much anywhere, so very appealing.&lt;/p>
&lt;p>So I really wanted to be able to get Serial over LAN working.&lt;/p>
&lt;h2 id="the-problem">The Problem&lt;/h2>
&lt;hr>
&lt;p>Out of the box when you connect all you get is:&lt;/p>
&lt;pre>&lt;code> Could not chdir to home directory /home/ipmi: No such file or directory
OVH
IPMI Serial Over Lan gateway
IPMI SOL on [Omitted ;-)].us
ipmiutil ver 2.93
isol ver 2.93
Opening lan connection to node 10.245.29.163 ...
Connecting to node 10.245.29.163
-- BMC version 2.00, IPMI version 2.0
Opening lanplus connection to node 10.245.29.163 ...
[SOL session is running, use '~.' to end, '~?' for help.]
&lt;/code>&lt;/pre>
&lt;p>Hitting enter here should drop you to a login prompt to login to the console. But nothing happens. Turns out this is because out of the box on OVH the linux kernel isn&amp;rsquo;t outputting or opening a tty on the serial port.&lt;/p>
&lt;h2 id="solution">Solution&lt;/h2>
&lt;p>To make the linux kernel output console output and open a tty on the serial port as needed by Serial Over Lan you need to ssh into your server and modify your grub settings to instruct the kernel to open a tty on that serial port. Also to tell it the baud rate to use. The &lt;a href="https://wiki.archlinux.org/index.php/Working_with_the_serial_console"target="_blank">arch wiki&lt;/a> is useful here.&lt;/p>
&lt;p>From what I can tell this is typically /dev/ttyS1. But if it doesn&amp;rsquo;t work for you try /dev/ttyS0.&lt;/p>
&lt;p>In the bios you can confirm the baud/bit rate. But in my case it was: 115200 and looking around that seems to be the most common.&lt;/p>
&lt;p>First hop into: /etc/default/grub&lt;/p>
&lt;p>and add:&lt;/p>
&lt;pre>&lt;code> GRUB_CMDLINE_LINUX_DEFAULT=&amp;quot;nomodeset console=tty0 console=ttyS1,115200&amp;quot;
GRUB_TERMINAL=&amp;quot;console serial&amp;quot;
GRUB_SERIAL_COMMAND=&amp;quot;serial --unit=1 --speed=115200 --word=8 --parity=no --stop=1&amp;quot;
&lt;/code>&lt;/pre>
&lt;p>This will both set the default linux command args, but also will let you interract with grub over the serial console as well.&lt;/p>
&lt;p>To make sure takes effect:&lt;/p>
&lt;pre>&lt;code> sudo update-grub
&lt;/code>&lt;/pre>
&lt;p>If you want to verify take a peak in /boot/grub/grub.cfg and see if the kernel options are there.&lt;/p>
&lt;p>If you would like to also be able to interact with bios and everything after POST you can also hop into bios via one of the KVM solutions and set this setting to enabled:&lt;/p>
&lt;p>&lt;img src="/images/2020-09-07/screen-shot-2020-09-07-at-14-28-07.png"
alt/>&lt;/p>
&lt;p>&lt;img src="/images/2020-09-07/screen-shot-2020-09-07-at-14-29-20.png"
alt/>&lt;/p>
&lt;p>I want to thank the author of this blog post for setting me on the right track: &lt;a href="http://divideoverflow.com/2016/07/Configuring_IPMI_on_OVH_server/">http://divideoverflow.com/2016/07/Configuring_IPMI_on_OVH_server/&lt;/a>&lt;/p></description></item><item><title>Tinkerbell or iPXE boot on OVH</title><link>https://geekgonecrazy.com/2020/09/07/tinkerbell-or-ipxe-boot-on-ovh/</link><pubDate>Mon, 07 Sep 2020 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2020/09/07/tinkerbell-or-ipxe-boot-on-ovh/</guid><description>
&lt;p>Recently have had to work with a number of physical servers that need to be treated more cattle like than a bunch of pets. I need to be able to quickly and easily provision servers to fit a specific role with out having to go through a complicated setup process.&lt;/p>
&lt;p>For this type of thing PXE or iPXE comes to the rescue. Allowing you to boot over the network. Simply rebooting the machine and then having it pick up its instructions and be provisioned like needed.&lt;/p>
&lt;h2 id="tinkerbell">Tinkerbell&lt;/h2>
&lt;p>Because of this need a project called tinkerbell has come to my attention. Project website is: &lt;a href="https://tinkerbell.org">https://tinkerbell.org&lt;/a>. Seems packet uses this or a variation of this inside of their infrastructure.&lt;/p>
&lt;p>Tinkerbell is made up of a few components:&lt;/p>
&lt;h3 id="tink-server">tink-server&lt;/h3>
&lt;p>This provides the state. It is made up of:&lt;/p>
&lt;h4 id="templates">templates&lt;/h4>
&lt;p>Templates have a series of actions that are docker images to be ran.&lt;/p>
&lt;h4 id="hardware">hardware&lt;/h4>
&lt;p>This is a json representation of the machine, metadata, nics with their interface definition ip/mac address.&lt;/p>
&lt;h4 id="workflows">workflows&lt;/h4>
&lt;p>Workflows are essentially just a job. A match up of hardware and template for it to run. The state is updated as the job runs.&lt;/p>
&lt;h3 id="boots">boots&lt;/h3>
&lt;p>This provides dhcp and the ipxe script to the server so it can boot. When it receives a request from the server for an ip, it talks to tink-server to find a record of that hardware. If it finds it then it returns it the ip given to it in the hardware definition and returns the ipxe script based on info from that hardware template.&lt;/p>
&lt;h3 id="osie">osie&lt;/h3>
&lt;p>When boots gives the server an image to boot it gives it the osie image. When this image boots up. It has tink-worker. Tink worker talks back to tink-server to fetch any workflows meant for this device. It then runs these workflows in series of docker containers. So you can package all of your scripts/dependencies in a nice neat docker container.&lt;/p>
&lt;h3 id="hegel">hegel&lt;/h3>
&lt;p>Hegel seems to mostly just be a tiny little service sitting over tink-server to return to the server its metadata. Pretty much like you are probably familar with if you&amp;rsquo;ve used AWS. The metadata service.&lt;/p>
&lt;h2 id="setting-up-tinkerbell">Setting up tinkerbell&lt;/h2>
&lt;p>The easiest way to get started on your local machine is to goto: &lt;a href="https://tinkerbell.org/docs/setup/local-with-vagrant/"title="https://tinkerbell.org/docs/setup/local-with-vagrant/"target="_blank">https://tinkerbell.org/docs/setup/local-with-vagrant/&lt;/a> and get started with their vagrant stack.&lt;/p>
&lt;p>Of course if you are going to be running in OVH.. This won&amp;rsquo;t really be an option.&lt;/p>
&lt;h3 id="pre-reqs">Pre-reqs&lt;/h3>
&lt;p>So first off you need a couple of things:&lt;/p>
&lt;ul>
&lt;li>A place to run tinkerbell. I personally had a proxmox setup for little VM&amp;rsquo;s on a couple of baremetal machines. But if I didn&amp;rsquo;t I would run a sandbox VM on the public cloud.&lt;/li>
&lt;li>A machine you want to boot over the network&lt;/li>
&lt;li>A vRack. You&amp;rsquo;re going to want a private network to conduct your experiment on.&lt;/li>
&lt;li>Your machines connected to that vRack. Make sure you don&amp;rsquo;t turn on dhcp on that vRack doing public cloud.&lt;/li>
&lt;li>An ip range selected. Personally I tend to over provision: 10.1.0.0/16&lt;/li>
&lt;/ul>
&lt;h3 id="install-tinkerbell-machine">Install tinkerbell machine&lt;/h3>
&lt;p>Their examples use ubuntu 18.04 so I also chose ubuntu 18.04. 20.04 seems to also work just fine.&lt;/p>
&lt;p>Once you have that we need to ssh in and start configuring tinkerbell.&lt;/p>
&lt;pre>&lt;code> git clone https://github.com/tinkerbell/sandbox.git
&lt;/code>&lt;/pre>
&lt;p>Now we need to hop in to the sandbox folder to start configuring:&lt;/p>
&lt;pre>&lt;code> cd sandbox
&lt;/code>&lt;/pre>
&lt;p>Now we need to generate the environment variables used for all of the rest of the configuration.&lt;/p>
&lt;p>Identify the interface attached to the private interface. You can use &lt;code>ip addr&lt;/code> and find the interface with no ip. Mine was ens18&lt;/p>
&lt;p>Then you need to run:&lt;/p>
&lt;pre>&lt;code> ./generate-envrc.sh ens18 &amp;gt; envrc
&lt;/code>&lt;/pre>
&lt;p>Then you need to edit the file output unless your network choice is 192.168.1.1/24 in which case you can leave alone&lt;/p>
&lt;p>If not you&amp;rsquo;ll need to change the following lines to two ips you wish to use:&lt;/p>
&lt;pre>&lt;code> # Decide on a subnet for provisioning. Tinkerbell should &amp;quot;own&amp;quot; this
# network space. Its subnet should be just large enough to be able
# to provision your hardware.
export TINKERBELL_CIDR=16
# Host IP is used by provisioner to expose different services such as
# tink, boots, etc.
#
# The host IP should the first IP in the range, and the Nginx IP
# should be the second address.
export TINKERBELL_HOST_IP=10.0.5.1
# NGINX IP is used by provisioner to serve files required for iPXE boot
export TINKERBELL_NGINX_IP=10.0.5.2
&lt;/code>&lt;/pre>
&lt;p>Now you need to load the environment variables into the current shell so we can continue executing.&lt;/p>
&lt;pre>&lt;code> source ./envrc
&lt;/code>&lt;/pre>
&lt;p>Now you need to run:&lt;/p>
&lt;pre>&lt;code> ./setup.sh
&lt;/code>&lt;/pre>
&lt;p>Once that finishes you will then be able to startup the components needed:&lt;/p>
&lt;pre>&lt;code> cd deploy
docker-compose up -d
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>Note:&lt;/strong> If you happen to come back and want to interact with the docker-compose in the future make sure to first load the &lt;code>envrc&lt;/code> file. If in the deploy folder can just do: &lt;code>source ../envrc&lt;/code>&lt;/p>
&lt;p>Wala the stack is up and running!&lt;/p>
&lt;h3 id="tweak-boots-service">Tweak boots service&lt;/h3>
&lt;p>I hope to be able to replace this section. But at the time of this writing.. the boots service uses a command in the ipxe script called &amp;ldquo;params&amp;rdquo; which can be found here: &lt;a href="https://github.com/tinkerbell/boots/blob/1e1d60ac32bac18d9b3f1c07611cd3b3613ecec7/ipxe/script.go#L34"target="_blank">https://github.com/tinkerbell/boots/blob/1e1d60ac32bac18d9b3f1c07611cd3b3613ecec7/ipxe/script.go#L34&lt;/a>&lt;/p>
&lt;p>In the version of ipxe my servers are running the param command causes things to error out. From what I can tell this just means that ipxe was built with out &lt;a href="https://ipxe.org/buildcfg/param_cmd"target="_blank">PARAM_CMD&lt;/a> build option. But since these are OVH servers there isn&amp;rsquo;t really anything I can do to ensure its added.&lt;/p>
&lt;p>You can track this issue here: &lt;a href="https://github.com/tinkerbell/boots/issues/78">https://github.com/tinkerbell/boots/issues/78&lt;/a>&lt;/p>
&lt;p>To make it work on OVH first follow pre-reqs listed here: &lt;a href="https://github.com/tinkerbell/boots/tree/1e1d60ac32bac18d9b3f1c07611cd3b3613ecec7#local-setup">https://github.com/tinkerbell/boots/tree/1e1d60ac32bac18d9b3f1c07611cd3b3613ecec7#local-setup&lt;/a> you&amp;rsquo;ll need go installed from package manager as well.&lt;/p>
&lt;pre>&lt;code>cd ~
git clone https://github.com/tinkerbell/boots.git
curl https://clbin.com/12XhH -o /tmp/ovh-boots-ipxe.patch
make
docker build -t quay.io/tinkerbell/boots:local-ovh-params-fix .
&lt;/code>&lt;/pre>
&lt;p>Then modify: docker-compose.yaml in sandbox/deploy/docker-compose.yaml and change tag to &lt;code>local-ovh-params-fix&lt;/code>&lt;/p>
&lt;p>Then in the sandbox/deploy folder run: &lt;code>source ../envrc; docker-compose up -d&lt;/code>&lt;/p>
&lt;h3 id="prepare-ovh-machine">Prepare OVH machine&lt;/h3>
&lt;p>In OVH by default they have an ipxe server listening on the public interface, and intercept all requests. So we need to setup a script through them to bootstrap things so we can boot from our LAN.&lt;/p>
&lt;p>You&amp;rsquo;ll need API access from here: &lt;a href="https://api.us.ovhcloud.com/console">https://api.us.ovhcloud.com/console&lt;/a>&lt;/p>
&lt;p>Go down to: &lt;code>POST /me/ipxeScript&lt;/code> and insert:&lt;/p>
&lt;pre>&lt;code>#!ipxe
ifclose net0
dhcp net1
set iface net1
chain --autofree http://10.0.5.1/auto.ipxe || exit
&lt;/code>&lt;/pre>
&lt;p>&lt;img src="/images/2020-09-07/screen-shot-2020-09-07-at-22-18-28.png"
alt/>&lt;/p>
&lt;p>This script will:&lt;/p>
&lt;ul>
&lt;li>close net0 the public interface.&lt;/li>
&lt;li>get dhcp on net1&lt;/li>
&lt;li>set net1 as the iface&lt;/li>
&lt;li>chain and try to boot the ipxe script from boots. If it gives 404 then exit.&lt;/li>
&lt;/ul>
&lt;p>Then grab the name of machine you wish to use and goto &lt;code>GET&lt;/code>&lt;a href="https://api.us.ovhcloud.com/console/#/dedicated/server/%7bserviceName%7d/boot#GET"target="_blank">&lt;code>/dedicated/server/{serviceName}/boot&lt;/code>&lt;/a>&lt;/p>
&lt;p>Set bootType=ipxeCustomerScript&lt;/p>
&lt;p>You&amp;rsquo;ll get an array back. If you aren&amp;rsquo;t sure which one is which you can call: &lt;code>GET&lt;/code>&lt;a href="https://api.us.ovhcloud.com/console/#/dedicated/server/%7bserviceName%7d/boot/%7bbootId%7d#GET"target="_blank">&lt;code>/dedicated/server/{serviceName}/boot/{bootId}&lt;/code>&lt;/a>&lt;/p>
&lt;p>This will tell you the name of the script so you can make sure it matches&lt;/p>
&lt;p>Now we need to set our server up to boot this script: &lt;code>PUT /dedicated/server/{serviceName}&lt;/code>&lt;/p>
&lt;p>&lt;img src="/images/2020-09-07/screen-shot-2020-09-07-at-22-27-32.png"
alt/>&lt;/p>
&lt;h3 id="add-info-to-tinkerbell">Add info to tinkerbell&lt;/h3>
&lt;p>Go back to your sandbox/deploy folder and run: &lt;code>source ../envrc; docker-compose exec tink-cli sh&lt;/code>&lt;/p>
&lt;p>Now you have the tink cli available to you.&lt;/p>
&lt;p>You need to create and inject a couple of files&lt;/p>
&lt;h4 id="hardwarejson">hardware.json&lt;/h4>
&lt;pre>&lt;code>{ &amp;quot;id&amp;quot;:&amp;quot;0fba0bf8-3772-4b4a-ab9f-6ebe93b90a94&amp;quot;,
&amp;quot;metadata&amp;quot;:{
&amp;quot;facility&amp;quot;:{
&amp;quot;facility_code&amp;quot;:&amp;quot;ewr1&amp;quot;,
&amp;quot;plan_slug&amp;quot;:&amp;quot;c2.medium.x86&amp;quot;,
&amp;quot;plan_version_slug&amp;quot;:&amp;quot;&amp;quot;
},
&amp;quot;instance&amp;quot;:{},
&amp;quot;state&amp;quot;:&amp;quot;provisioning&amp;quot;
},
&amp;quot;network&amp;quot;:{
&amp;quot;interfaces&amp;quot;:[
{
&amp;quot;dhcp&amp;quot;:{
&amp;quot;arch&amp;quot;:&amp;quot;x86_64&amp;quot;,
&amp;quot;ip&amp;quot;:{
&amp;quot;address&amp;quot;:&amp;quot;10.0.6.3&amp;quot;,
&amp;quot;gateway&amp;quot;:&amp;quot;10.0.0.1&amp;quot;,
&amp;quot;netmask&amp;quot;:&amp;quot;255.255.0.0&amp;quot;
},
&amp;quot;mac&amp;quot;:&amp;quot;d0:50:99:d7:63:20&amp;quot;,
&amp;quot;uefi&amp;quot;:true
},
&amp;quot;netboot&amp;quot;:{
&amp;quot;allow_pxe&amp;quot;:true,
&amp;quot;allow_workflow&amp;quot;:true
}
}
]
}
}
&lt;/code>&lt;/pre>
&lt;p>You&amp;rsquo;ll need to swap out the ip and mac address.&lt;/p>
&lt;p>Add this hardware with: &lt;code>tink hardware push --file hardware.json&lt;/code>&lt;/p>
&lt;h4 id="hello-worldtmpl">hello-world.tmpl&lt;/h4>
&lt;pre>&lt;code>version: &amp;quot;0.1&amp;quot;
name: hello_world_workflow
global_timeout: 600
tasks:
- name: &amp;quot;hello world&amp;quot;
worker: &amp;quot;{{.device_1}}&amp;quot;
actions:
- name: &amp;quot;hello_world&amp;quot;
image: hello-world
timeout: 60
&lt;/code>&lt;/pre>
&lt;p>Add the template with: &lt;code>tink template create -n hello-world -p hello-world.tmpl&lt;/code>&lt;/p>
&lt;p>It&amp;rsquo;ll spit out an id.&lt;/p>
&lt;p>Now we need to create a job to run this template. So we need to create a workflow: &lt;code>tink workflow create -t {template_id} -r '{&amp;quot;device_1&amp;quot;:&amp;quot;d0:50:99:d7:63:20&amp;quot;}'&lt;/code>&lt;/p>
&lt;p>Swap out the mac address for the same address used in your hardware.json above.&lt;/p>
&lt;h3 id="try-it">Try it&lt;/h3>
&lt;p>Now for the fun part. Connect to KVM console for your machine and then reboot it.&lt;/p>
&lt;p>If all went well you should see it boot up&lt;/p></description></item><item><title>Decision Fatigue in 2020</title><link>https://geekgonecrazy.com/2020/08/28/decision-fatigue-in-2020/</link><pubDate>Fri, 28 Aug 2020 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2020/08/28/decision-fatigue-in-2020/</guid><description>
&lt;p>This last couple of weeks I finally took some time off of work to try and reset. Iâ€™m not always the greatest at taking time off. I take an extra day or two combined with the weekend for a mini-vacation around the Holidays to see family and itâ€™s often the minimum time needed. This year with everything going on really had to force my self to step back and try to reset with a staycation.&lt;/p>
&lt;p>Itâ€™s all too easy now days to get overwhelmed and stressed out. A couple of key contributors now days:&lt;/p>
&lt;ul>
&lt;li>Decision Fatigue&lt;/li>
&lt;li>World Circumstances&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;h2 id="decision-fatigue">Decision Fatigue&lt;/h2>
&lt;p>There are many articles written about this topic that do a much better job than I could to describe this. A couple that &lt;a href="https://duckduckgo.com/?q=decision&amp;#43;fatigue"target="_blank">a quick DuckDuckGo uncovered&lt;/a>:&lt;/p>
&lt;p>&lt;a href="https://www.healthline.com/health/decision-fatigue"title="https://www.healthline.com/health/decision-fatigue"target="_blank">https://www.healthline.com/health/decision-fatigue&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://blog.rescuetime.com/decision-fatigue/"title="https://blog.rescuetime.com/decision-fatigue/"target="_blank">https://blog.rescuetime.com/decision-fatigue/&lt;/a>&lt;/p>
&lt;p>But in short.. if you are constantly having to make decision after decision. There is a point when it just gets mentally taxing to have to keep making decisions.&lt;/p>
&lt;p>I personally loop into this what I guess you would call Context Switching Fatigue. It boils down to some of the same things. But basically if you are constantly having to switch between tasks it can also lead to fatigue.&lt;/p>
&lt;h2 id="world-circumstances">World Circumstances&lt;/h2>
&lt;p>Itâ€™s super easy to look at everything happening in the world and worry about things you canâ€™t control.&lt;/p>
&lt;ul>
&lt;li>Covid19 - We watch as the number of reported cases climb.. people canâ€™t agree on how itâ€™s reported and itâ€™s politicized. With so much conflicting reporting&amp;hellip; We are faced with more of decision fatigue. What info is correct?&lt;/li>
&lt;li>Protesting and Riots - same thing.. mixed reporting. While the initial reason for protesting feels like a no brainer&amp;hellip; everyone is taking extreme views on how to solve it. We see a lot of reports on who is doing what&amp;hellip; and here we are stuck with making sense of everything.&lt;/li>
&lt;li>Social Media chaos and unrest - a longer topic.. but everyone seems to be looking for a cause. They just pick a side in a fight with little to no research and shame anyone with an opposing view. You donâ€™t have to scroll far in your feed to see someone post something political.. then in the comments you see anyone that opposes the view point or even question it.. dog piled on. Peaceful debating is long gone.&lt;/li>
&lt;li>Deaths - as if itâ€™s not a hard enough year.. people still get older and still die from varying causes&lt;/li>
&lt;li>Hurricanes - In my part of the world itâ€™s in the middle of hurricane season.&lt;/li>
&lt;/ul>
&lt;h2 id="resetting-and-handling">Resetting and Handling&lt;/h2>
&lt;p>Reducing decision fatigue doesnâ€™t have a silver bullet. But one way Iâ€™m handling it on my staycation is taking it easy and making as little decisions as possible. Spent the first week blasting through my honey-do-list and generally cleaning. Then just taking it easy, avoiding news and social media(except Hurricane Laura updates).&lt;/p>
&lt;p>But long term my approach:&lt;/p>
&lt;ul>
&lt;li>Cut down / Cut out Social Media - itâ€™s filled with a lot of toxicity.&lt;/li>
&lt;li>Avoid too much News - I admit I donâ€™t do this as well as Iâ€™d like. If you spend too much time reading news, you will be forced to spend more time reading both sides and making a decision.&lt;/li>
&lt;li>Simple and structured morning routine - for me this includes Bullet Journaling.&lt;/li>
&lt;li>Organization - being organized helps decision fatigue a lot.&lt;/li>
&lt;li>Value your own time. Just because someone DMâ€™s you asking for something doesnâ€™t mean you need to stop what you are doing now and respond. In fact busy mode / do not disturb is your best friend here. Not even seeing it prevents you from having to make a decision.&lt;/li>
&lt;/ul>
&lt;p>Donâ€™t be afraid to take time off to reset! Itâ€™s hard to take time off. But itâ€™s important to take care of your self!&lt;/p></description></item><item><title>A k8s Migration Concept</title><link>https://geekgonecrazy.com/2020/05/01/a-k8s-migration-concept/</link><pubDate>Fri, 01 May 2020 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2020/05/01/a-k8s-migration-concept/</guid><description>
&lt;p>Surprisingly I donâ€™t have a lot of kubernetes related content on my blog yet. This might just because Iâ€™m too busy using it to talk about it. But iâ€™m a heavy user of it. To me it just makes orchestrating work loads easier.&lt;/p>
&lt;p>One thing in general I donâ€™t see a lot of talk about is migrating between infrastructure. Especially donâ€™t see much for kubernetes.&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>So I wanted to share a high level concept set of steps that iâ€™ve followed a couple of times to migrate between a couple of kubernetes clusters with minimal to no downtime.&lt;/p>
&lt;h3 id="establishing-a-link-between-environments">Establishing a link between environments&lt;/h3>
&lt;p>The first step in this process was establishing a link between the old environment and the new environment. Most major cloud providers have VPC peering so can set this up pretty easily. So far all have been IPSEC. A few tweaks to the firewall later you can talk across.&lt;/p>
&lt;h3 id="spin-up-new-db-nodes">Spin up new DB nodes&lt;/h3>
&lt;p>In my case it was some mongo nodes. Once they were up, joined them to the replicaset on the other side. One important thing here is they were set with 0 priority to prevent them from some how becoming a primary before we were ready&lt;/p>
&lt;h3 id="proxy-endpoint">Proxy Endpoint&lt;/h3>
&lt;p>Once the DB is ready and ready to migrate. Established an endpoint from the new environment across to the old environments ingress provider. On caveat here is did actually have to spin up a second internal ingress provider that would handle proxying to load inside the cluster. But did not handle TLS termination. This is what we pointed the endpoint to.&lt;/p>
&lt;h3 id="create-ingress-records">Create ingress records&lt;/h3>
&lt;p>Now that the other side is ready to accept traffic over the peering and route the traffic to the appropriate placeâ€¦ Need to actually tell the new environment what routes to listen for and where to send them. So all of them just point to the proxy endpoint.&lt;/p>
&lt;p>At this point you can make a request like:&lt;/p>
&lt;pre>&lt;code>curl --verbose --header 'Host: www.example.com' 'http://10.1.1.36:8080/url'
&lt;/code>&lt;/pre>&lt;h3 id="dns">DNS&lt;/h3>
&lt;p>Now that requests are verified to go across you can swap over the DNS from old environment to the new environment. Making sure to take note of the TTL on the record. I actually decreased the TTL a couple of days prior to prevent having to wait as long.&lt;/p>
&lt;p>So the traffic will flow into new environment and the proxy over to old environment&lt;/p>
&lt;h3 id="migrate">Migrate&lt;/h3>
&lt;p>Once give the time for the TTL time to have fully ran out. Could start migrating.&lt;/p>
&lt;p>For us this process looked like:&lt;/p>
&lt;ol>
&lt;li>Deploy Deployment&lt;/li>
&lt;li>Deploy SVC&lt;/li>
&lt;li>Swap ingress to point to service&lt;/li>
&lt;li>Verify traffic hits&lt;/li>
&lt;li>Spin down resource in old environment&lt;/li>
&lt;/ol>
&lt;h3 id="db-primary-switch">DB Primary Switch&lt;/h3>
&lt;p>We waited until about half of the deployments had switched and then adjusted priority in our DB cluster so that only nodes in the new environment had priority and now all in old environment had none and then made our primary in the old environment step down.&lt;/p>
&lt;p>Important to make sure your application can actually detect and handle this. Otherwise it wonâ€™t work.&lt;/p>
&lt;h3 id="finishing-up">Finishing up&lt;/h3>
&lt;p>Once it was all over only thing left to do was to clean up.&lt;/p>
&lt;p>To me the magic here is in being able to change the DNS and traffic still be working with some minimal latency increase.&lt;/p>
&lt;p>Things can definitely go wrong. You have to plan for them. This is also why giving your self a maintenance window is also extremely important.&lt;/p>
&lt;p>Also if you know anything about working with the kubernetes api.. consider writing something to do this.&lt;/p></description></item><item><title>Quarantainment</title><link>https://geekgonecrazy.com/2020/05/01/quarantainment/</link><pubDate>Fri, 01 May 2020 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2020/05/01/quarantainment/</guid><description>
&lt;p>I donâ€™t think its likely a surprise to anyone if I say Iâ€™m typically an introvert. I stay at and around home a lot in general. But when its no longer by choice.. kinda takes the fun out of it.&lt;/p>
&lt;p>We identified early on that we needed to keep our selves busy and entertained.&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>Started out the quarantine with me teaching my wife to play chess. So pulled out the â€˜ol &lt;a href="https://www.amazon.com/USAopoly-CH005-191-Chess-Super-Mario/dp/B00168PI9S"target="_blank">Mario chess set&lt;/a>. Yes its awesome!&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_5B8DDF11035244A7AC92669A93E624BCD7D0866F945EF2DF2F75C708AABAABDC_1588363799655_file.jpeg"
alt/>&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_5B8DDF11035244A7AC92669A93E624BCD7D0866F945EF2DF2F75C708AABAABDC_1588363821571_file.jpeg"
alt/>&lt;/p>
&lt;p>Iâ€™ve wanted to learn to play go for a long time. Pretty much ever since seeing AlphaGo compete against the top players. So I figured what better time to learn? Picked &lt;a href="https://en.wikipedia.org/wiki/Go_equipment#Board"target="_blank">Goban&lt;/a> and &lt;a href="https://en.wikipedia.org/wiki/Go_equipment#Stones"target="_blank">stones&lt;/a> or &lt;a href="https://en.wikipedia.org/wiki/Yunzi"target="_blank">Yunzi&lt;/a> as they are apparently called.&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_5B8DDF11035244A7AC92669A93E624BCD7D0866F945EF2DF2F75C708AABAABDC_1588364259006_file.jpeg"
alt/>&lt;/p>
&lt;p>Proceeded to play a couple of very noob games of go.&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_5B8DDF11035244A7AC92669A93E624BCD7D0866F945EF2DF2F75C708AABAABDC_1588364332277_file.jpeg"
alt/>&lt;/p>
&lt;p>The same board doubles as a chess board on the other side so have been alternating between this board and the other for playing chess.&lt;/p>
&lt;p>Even taught my kids. They now can all correctly identify the pieces and how the pieces can move.&lt;/p>
&lt;p>Picked up a few more various card games and board games to add to our collection. We already regularly enjoy family game nights.&lt;/p>
&lt;p>Have spent a fair amount of time in my backyard. Got some patio furniture and a Hammock.&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_5B8DDF11035244A7AC92669A93E624BCD7D0866F945EF2DF2F75C708AABAABDC_1588365007947_file.jpeg"
alt/>&lt;/p>
&lt;p>I&amp;rsquo;m pretty sure amazon and UPS hate us.&lt;/p>
&lt;p>I also bought some controllers and loaded a raspberry pi up with &lt;a href="https://retropie.org.uk/"target="_blank">retropie&lt;/a>.&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_5B8DDF11035244A7AC92669A93E624BCD7D0866F945EF2DF2F75C708AABAABDC_1588365556279_file.jpeg"
alt/>&lt;/p>
&lt;p>So far its working. We have stayed fairly sane and we are coming out the other side a bit better then we went in.&lt;/p></description></item><item><title>Respecting Privacy in Analytics</title><link>https://geekgonecrazy.com/2020/04/29/respecting-privacy-in-analytics/</link><pubDate>Wed, 29 Apr 2020 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2020/04/29/respecting-privacy-in-analytics/</guid><description>
&lt;p>There is a reason why people tend to add analytics to sites. I&amp;rsquo;d say most people add for completely honest reasoning. They just want to be able to see how their site is doing and if anyone actually shows up.&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>But its really important to go down the path with caution. If you dont carefully select and think through your analyticsâ€¦ You end up spying on your users likely without even realizing it.&lt;/p>
&lt;p>Let&amp;rsquo;s imagine you read the exciting sales pitch from AssociatedIn on how adding their analytics will let you see the types of users or businesses visit your site. Seems innocent enough right?&lt;/p>
&lt;p>Lets put on our privacy detective hat!&lt;/p>
&lt;p>So you turn it on and they start giving you this data.. How are they able to give you this info? The only way they would know anything about your users if they send something to them selves right? So of course they do this. But the only way them sending the page to themselves would be useful if they included something about the user. So they have to some how identify you or to see if unique.&lt;/p>
&lt;p>Maybe they see you are logged in to their service? Ouch.. But ok ones easy.&lt;/p>
&lt;p>Maybe they fingerprint you by grabbing an assortment of clues the browser gives away? Could be.. To make it even easier on themselves maybe they drop a cookie in the browser so next time that user visits a page they will know it&amp;rsquo;d the same user. Oh it happens to also send to any other site using their analytics?&lt;/p>
&lt;p>This just went from analytics straight on over in to tracking territory. Now by getting some analytics about the type of business your users run.. You have traded it for your user being tracked.&lt;/p>
&lt;p>The tracking company is then aggregating this data, building models about users, maybe selling it? Or maybe they aren&amp;rsquo;t so blatenly nefarious.. maybe they are just offering a paid plan offering advanced abilities. Your users data that you are giving them now let&amp;rsquo;s them make money.&lt;/p>
&lt;p>Seemed innocent though right?&lt;/p>
&lt;p>Super important to think about the type of information we collect about our users. Is that bit of data worth allowing a tracker to invade your users privacy?&lt;/p>
&lt;h1 id="ok-so-what-should-i-use">Ok so what should I use?&lt;/h1>
&lt;p>Great question! First off self hosting an open source analytics tool can be a great way to know exactly what data you collect and how its collected. Also you ensure that data isn&amp;rsquo;t then being aggregated to track your users across the web.&lt;/p>
&lt;p>I&amp;rsquo;m still on the hunt for good options but will update this list as I find out about them. But here are a couple:&lt;/p>
&lt;h2 id="matomo">Matomo&lt;/h2>
&lt;p>&lt;a href="https://matomo.org">https://matomo.org&lt;/a> is one recommended by many people in the open source community. Full featured alternative to the likes of Google Analytics.&lt;/p>
&lt;h2 id="fatham">Fatham&lt;/h2>
&lt;p>Recently came across this one. I&amp;rsquo;m actually using it for my site and inspired this topic. Feels great for use cases like mine.&lt;/p>
&lt;p>Its kind of confusing.. But apparently their first version is/was open source. Then they rewrote it and this version is not open source but available on their SaaS offering.&lt;/p>
&lt;p>But the open source version can be found here: &lt;a href="https://github.com/usefathom/fathom">https://github.com/usefathom/fathom&lt;/a>&lt;/p>
&lt;p>What I like about this is I can see exactly what is transmitted and what is stored.&lt;/p>
&lt;p>Transmitted: &lt;a href="https://github.com/usefathom/fathom/blob/8f7c6d2e45ebb28651208e2a7320e29948ecdb2c/assets/src/js/tracker.js#L162"target="_blank">here&lt;/a>
Saved: &lt;a href="https://github.com/usefathom/fathom/blob/8f7c6d2e45ebb28651208e2a7320e29948ecdb2c/pkg/api/collect.go#L54"target="_blank">here&lt;/a>&lt;/p>
&lt;p>Here is a sample of my brief moment on hackernews yesterday. But what you see there is it. Super simple, but does the job.&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_3A770CD59D00AB3A931B3BF5D654149EDE7875E5917677E7CC0A064B28BBDD07_1588216208662_file.jpeg"
alt/>&lt;/p>
&lt;p>Think about privacy the next time you start adding analytics to your website. Think about what you are making your users give up in exchange. Do the right thing ðŸ™‚&lt;/p></description></item><item><title>De-Googling: My Progress</title><link>https://geekgonecrazy.com/2020/04/28/de-googling-my-progress/</link><pubDate>Tue, 28 Apr 2020 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2020/04/28/de-googling-my-progress/</guid><description>
&lt;p>I wrote a bit about my reasoning to De-Google &lt;a href="https://geekgonecrazy.com/2020/04/27/de-googling/"target="_blank">here&lt;/a>. Now I want to write a bit about my progress, the struggles and what I ended up with.&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h1 id="search">Search&lt;/h1>
&lt;p>Or Google as many think of it. This one I have toyed with off and on with over the years. But a while back probably around a year ago.. I was listening to a podcast. I think either Ask Noah Show or one of the Jupiter Broadcast Linux podcasts and was inspired to challenge my self to switch and see how it went.&lt;/p>
&lt;p>I switched to:&lt;/p>
&lt;h4 id="duckduckgo">Duckduckgo&lt;/h4>
&lt;p>It was one that I had tried direct comparison searches with before.. Every time I would feel it wasn&amp;rsquo;t as good. But I went ahead and switched it as my default on my phone.&lt;/p>
&lt;p>At first I noticed what felt like results not showing. Felt like I was digging a lot. The same sort of thing I see everyone else complain about and turn away. But I decided to stick it out.&lt;/p>
&lt;p>Before long I stopped noticing. I also almost always find the result on the first page. No different than Google.&lt;/p>
&lt;p>What I&amp;rsquo;ve come to realize is I&amp;rsquo;m no longer depending on what Google knows about me to help me find what I want and instead I have become better at searching.&lt;/p>
&lt;p>Google knows you, it knows the typed of things you would look for. It farms data on lots of people just like you. So of course its able to fill in the gap.&lt;/p>
&lt;p>I&amp;rsquo;ll take training my brain my privacy any day!&lt;/p>
&lt;h1 id="browser">Browser&lt;/h1>
&lt;p>I almost forgot to add. I actually feel kind of bad.. I help move a lot of people to Chrome from other browsers. ðŸ˜”&lt;/p>
&lt;p>I have to give Google major props for Chrome. The web was getting a bit stagnant. With Chrome it feels like they gave the web the kick in the pants we needed to evolve.&lt;/p>
&lt;p>But it&amp;rsquo;s still Google and my browsing habits is my data. So I switched to:&lt;/p>
&lt;h4 id="firefox">Firefox&lt;/h4>
&lt;p>Firefox has gotten a lot better! Like night and day difference. Its fast, lighter on memory, looks a bit better and perhaps most importantlyâ€¦&lt;/p>
&lt;p>Its maintaining some diversity. Most browsers now use chromium or at least blink under the hood. Competition is good. Firefox&amp;rsquo;s phenoix like rise from the the ashes is proof enough of this.&lt;/p>
&lt;p>I keep chromium and brave around as a backup for times when Firefox doesn&amp;rsquo;t cut it.&lt;/p>
&lt;h1 id="email">Email&lt;/h1>
&lt;p>I drug my feet for the longest time on this. I had a grandfathered in Google apps free account for my domains email. So I&amp;rsquo;m already in better shape then most.&lt;/p>
&lt;p>I started off in a similar way to search. I first started using a non-gmail account on my phone. Desktop I used Thunderbird or Mail.app on osx. This started to train my self to not really care about the gmail features.&lt;/p>
&lt;p>Then after really dragging my feet some moreâ€¦ I eyed protonmail.. But didn&amp;rsquo;t really feel like the encryption they provided and plan options ever really was that great of a deal.&lt;/p>
&lt;p>I switched to:&lt;/p>
&lt;h4 id="self-hosted-with-mail-in-a-boxhttpsmailinaboxemail">Self-hosted with &lt;a href="https://mailinabox.email"target="_blank">mail-in-a-box&lt;/a>&lt;/h4>
&lt;p>This made it so simple! Simple enough for me to spend half an hour to set it up a $5 droplet on DigitalOcean and have it receiving email for several domains and a couple of new ones ðŸ™‚&lt;/p>
&lt;p>Took another few hours to fail miserably with the terrible Google Takeout export of my email. Then force Thunderbird to fully download all of my mail and then push it all back up. Moral of story just use IMAP and you can move your mail anywhere.&lt;/p>
&lt;p>I&amp;rsquo;m not 100% satisfied with this. I think in the future I will use some sort of docker based solution or roll my own. So I can self host a few more things a bit easier. But I got through the hardest partâ€¦ I got my data back.&lt;/p>
&lt;h1 id="phone">Phone&lt;/h1>
&lt;p>One of my biggest tie-ins to Google has actually been mobile. I&amp;rsquo;ve had a nexus or pixel for as long as I can remember. I tried Samsung and absolutely hated the skin they threw on it.&lt;/p>
&lt;p>I tried ROMs like Cyanogenmod but it was always so buggy.. My phone is the one device I need to just work.&lt;/p>
&lt;p>I tried just switching apps but I&amp;rsquo;d find my self right back into Google Assistant, Google Now etcâ€¦&lt;/p>
&lt;p>So I switched to what only an insane person would:&lt;/p>
&lt;h4 id="iphone">iPhone&lt;/h4>
&lt;p>I probably just lost 99% of you ðŸ™ˆ&lt;/p>
&lt;p>But doing this in one fell swoop I cut off a lot of temptation and random little Google apps.&lt;/p>
&lt;p>This also let me see how the other side is. To be honest not that different.. I haven&amp;rsquo;t really missed anything.&lt;/p>
&lt;p>But I think this really helped cut my reliance on Google and I feel a lot less reliant on any particular phone OS.&lt;/p>
&lt;p>I&amp;rsquo;m keeping my eye on pinephone. Very exciting work being done. I&amp;rsquo;ll be buying one to play with before too long.&lt;/p>
&lt;h1 id="photos">Photos&lt;/h1>
&lt;p>All photos used to backup automatically in full resolution to Google Photos. By having original pixel I got this for free.&lt;/p>
&lt;p>Switched to:&lt;/p>
&lt;h4 id="icloud">iCloud&lt;/h4>
&lt;p>Yeahâ€¦ I&amp;rsquo;m still looking for a good place to store this. But at least I&amp;rsquo;m paying for this service and am not the product.&lt;/p>
&lt;p>I&amp;rsquo;m open to suggestions on self hosted. I&amp;rsquo;ve already pulled down my 2-300GB Google Photos archive.&lt;/p>
&lt;h1 id="contactscalendar">Contacts/Calendar&lt;/h1>
&lt;p>Another byproduct of using Android my Google account was default.&lt;/p>
&lt;p>Switched to:&lt;/p>
&lt;h4 id="icloud-1">iCloud&lt;/h4>
&lt;p>I&amp;rsquo;m thinking about using nextcloud.&lt;/p>
&lt;h1 id="docs">Docs&lt;/h1>
&lt;p>I never really used Google Drive or any of the gsuite.&lt;/p>
&lt;p>Switched to:&lt;/p>
&lt;h4 id="hackmd">Hackmd&lt;/h4>
&lt;p>I like writing markdown. Downsideâ€¦ typing on mobile doesn&amp;rsquo;t work very well. Especially copy and pasting or moving cursor.&lt;/p>
&lt;p>Nextcloud might fill this gap. But I don&amp;rsquo;t feel a void to fill right now.&lt;/p>
&lt;h1 id="google-hangouts">Google Hangouts&lt;/h1>
&lt;p>I think I&amp;rsquo;ve used every incarnation of messenger Google has had and killed off. I had all of my family on Google Hangouts in group conversations.&lt;/p>
&lt;p>Switched to:&lt;/p>
&lt;h4 id="whatsapp">Whatsapp&lt;/h4>
&lt;p>Yeah I know.. One evil for another. I was traveling and one of the services I could use for free and worked best in Brazil was WhatsApp. Moving my family, in-laws, etc off is battle for another day.&lt;/p>
&lt;p>I would like to get them all using a self hosted Rocket.Chat workspace. One day!&lt;/p>
&lt;p>&lt;em>&lt;strong>Edit to clarify:&lt;/strong>&lt;/em> This was replacing my need for extended family communication groups. My wife&amp;rsquo;s family my family and extended family thats pretty much it. For other communications I use Rocket.Chat for team collab, signal, keybase chat or sms(which if they do happen to have iMessage does convert). I definitely do not trust facebook any more than Google.&lt;/p>
&lt;h1 id="music">Music&lt;/h1>
&lt;p>Used Google Music a lot and actually really liked its recommendations. But even before my De-Googling exercise I noticed that they started pushing YouTube Music. Rumor is it will be replace with YouTube Music. My guess is to leverage all of the music brought on by artists with vevo.&lt;/p>
&lt;p>Switched to:&lt;/p>
&lt;h4 id="spotify">Spotify&lt;/h4>
&lt;p>Its one of the few services I don&amp;rsquo;t mind paying for. It does an okay job at playing music I might be interested in.&lt;/p>
&lt;h1 id="todo">Todo&lt;/h1>
&lt;p>Looking through my phone at the Google Apps installed.&lt;/p>
&lt;p>Youtube is the only app/service I visit any more for personal use. I&amp;rsquo;ve tried using invidious.. But I don&amp;rsquo;t know how much this really helps. Also if I self host then the data is then tied to meâ€¦ so kinda defeats the purposes.&lt;/p>
&lt;p>When ever I do find my self having to access Google I do so in a separate Firefox Container.&lt;/p>
&lt;p>Overall I feel like I&amp;rsquo;ve done a great job removing my reliance on Google! I have a feeling I will be self hosting a lot more in the future. Maybe more on that another time. ðŸ˜‰&lt;/p></description></item><item><title>De-Googling</title><link>https://geekgonecrazy.com/2020/04/27/de-googling/</link><pubDate>Mon, 27 Apr 2020 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2020/04/27/de-googling/</guid><description>
&lt;p>This is not by any means a new idea. A quick search around the web will return many results of people doing this. My reasons are likely similar to many others. Privacy being the most common shared reason.&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>Ok that&amp;rsquo;s it I spoiled it! Now you don&amp;rsquo;t need to read on ðŸ˜œ But I&amp;rsquo;ll explain anyways.&lt;/p>
&lt;h1 id="privacy">Privacy&lt;/h1>
&lt;p>Google gives their applications and services away for free. This is extreeemly attractive! We humans are cheap! That&amp;rsquo;s not totally fair.. But I think in regard to software it holds true.&lt;/p>
&lt;p>We will buy the best hardware in the world and then we hunt for the cheapest software we can find. But this is a rabbit hole.. I won&amp;rsquo;t go down today.&lt;/p>
&lt;p>What we often forget(my self included) is to stop and ask your self a question:&lt;/p>
&lt;blockquote>
&lt;p>How are they able to pay people to make this if they are giving it away for free?&lt;/p>
&lt;/blockquote>
&lt;p>Don&amp;rsquo;t know? Let me help you out. You are paying with your data!&lt;/p>
&lt;p>Of course there are exceptions that I won&amp;rsquo;t go into here. But for the most part this holds true.&lt;/p>
&lt;p>Google specifically is an ad company. This is how they make money. &amp;ldquo;But I thought Google was just a search engine?&amp;rdquo; Nope they historically make most money on ads. &lt;a href="https://www.investopedia.com/articles/investing/020515/business-google.asp"target="_blank">Here is one example&lt;/a> of many out there talking about this. So your data feeds their ad machine.&lt;/p>
&lt;p>Creeped out yet? Me too..&lt;/p>
&lt;h1 id="google-grave-yard">Google Grave yard&lt;/h1>
&lt;p>A less common reason.. I&amp;rsquo;ll try not to sound too bitter here. Bear with me. But Google has left in its wake a trail of bodies.&lt;/p>
&lt;p>A few that I used to use:&lt;/p>
&lt;ul>
&lt;li>Google Wave - so cool&lt;/li>
&lt;li>Google Reader - still don&amp;rsquo;t have one I like as much&lt;/li>
&lt;li>100 different messaging products - I&amp;rsquo;m exaggeratingâ€¦ but only slightly&lt;/li>
&lt;li>Many more&lt;/li>
&lt;/ul>
&lt;p>Its enough that there is a dedicated website just to products Google has killed:&lt;/p>
&lt;p>&lt;a href="https://killedbygoogle.com">https://killedbygoogle.com&lt;/a>&lt;/p>
&lt;p>If they can&amp;rsquo;t figure out how to get their ad clicks or get bored (seems to be the case of messengers) to the chopping block they go!&lt;/p>
&lt;h1 id="diversity">Diversity&lt;/h1>
&lt;p>It goes a bit beyond Google for me. Its more like a way of life. As the old saying goes:&lt;/p>
&lt;blockquote>
&lt;p>Dont put all of your eggs in one basket&lt;/p>
&lt;/blockquote>
&lt;p>What if a company went out of business and took all of your data with them? This has happened.&lt;/p>
&lt;p>Diversifying the companies you use for services you can&amp;rsquo;t host your self is like hedging your bets.&lt;/p>
&lt;hr>
&lt;p>Thats it folks! Hopefully my perspective is different enough to be interesting. ðŸ˜œ I might follow this up with how I have de-googled.&lt;/p></description></item><item><title>Hacking in the Physical World</title><link>https://geekgonecrazy.com/2020/04/26/hacking-in-the-physical-world/</link><pubDate>Sun, 26 Apr 2020 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2020/04/26/hacking-in-the-physical-world/</guid><description>
&lt;p>Hacking is often a term used to mean malicious behavior. But I believe hacking is a mindset. It&amp;rsquo;s about trying to be creative.. Taking things and making them work in a different way. It&amp;rsquo;s about not letting your self be your own limiter. Just because you&amp;rsquo;ve never done something beforeâ€¦ doesn&amp;rsquo;t mean you shouldn&amp;rsquo;t try.&lt;/p>
&lt;p>I don&amp;rsquo;t consider my self good at carpentry. Or using screws, hammers, power tools etc.. I&amp;rsquo;m also sure &lt;del>some&lt;/del> most of the work makes professionals cringe just like I do at code by a novice.&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>But when a project comes around that needs done.. I think the only way to learn is to do.&lt;/p>
&lt;p>When ever I can I like to help on projects where someone knows what they are doing. This way I can slowly build up some tips and tricks.&lt;/p>
&lt;p>I&amp;rsquo;ve always been a tinkerer with a very curious mind. My parents love to tell the story of me as a young kid ripping the thermostat off of the wall so that I could see how it worked.&lt;/p>
&lt;p>Over the last few years I feel I&amp;rsquo;ve gotten a bit more comfortable with power tools. Hurricane Harvey hit me and my in-laws houses. Fortunately for us we were renting. But my in-laws have spent the last few years gutting and remodeling their house. A lot of opportunities to learn there and they have gotten to make the house like they want it. Look for the silver linings right?&lt;/p>
&lt;p>Anyways.. Few years back we bought a house and I inherited an amazing fence &lt;!-- raw HTML omitted -->. I&amp;rsquo;ve done repairs in the past replacing pieces that butt up against my neighbors yard. It was an urgent repair to keep the neighbors aggressive acting dog from barging through the very weak pieces. The side has always leaned out a bit towards the road.&lt;/p>
&lt;p>What needs to happen is I need to pull all planks off and fix it properly. But until I have resources to do so I have attempted to straighten some and strengthen it.&lt;/p>
&lt;p>First thing was obvious.. some of the bottom 2x4s weren&amp;rsquo;t even connected. ðŸ™ˆ&lt;/p>
&lt;p>The second major issue is the top 2x4s were layed flat and super bowed.&lt;/p>
&lt;p>I loosened some pieces around the beam leaving the section unhooked from the post and then since mostly doing by my self made a make shift pulley out of rope and stake in the ground.&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_316E9D8BF50C70E0D031ECDBEA216C11C9895ACBF532434B292654CB7AD99E07_1587947823306_file.jpeg"
alt/>&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_316E9D8BF50C70E0D031ECDBEA216C11C9895ACBF532434B292654CB7AD99E07_1587947837444_file.jpeg"
alt/>&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_316E9D8BF50C70E0D031ECDBEA216C11C9895ACBF532434B292654CB7AD99E07_1587947858948_file.jpeg"
alt/>&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_316E9D8BF50C70E0D031ECDBEA216C11C9895ACBF532434B292654CB7AD99E07_1587947877962_file.jpeg"
alt/>&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_316E9D8BF50C70E0D031ECDBEA216C11C9895ACBF532434B292654CB7AD99E07_1587947890351_file.jpeg"
alt/>&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_316E9D8BF50C70E0D031ECDBEA216C11C9895ACBF532434B292654CB7AD99E07_1587947906948_file.jpeg"
alt/>&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_316E9D8BF50C70E0D031ECDBEA216C11C9895ACBF532434B292654CB7AD99E07_1587947924886_file.jpeg"
alt/>&lt;/p>
&lt;p>&lt;img src="https://paper-attachments.dropbox.com/s_316E9D8BF50C70E0D031ECDBEA216C11C9895ACBF532434B292654CB7AD99E07_1587947938717_file.jpeg"
alt/>&lt;/p>
&lt;p>Once they were as straight as I could.. cut a few spare 2x4s put them in as square as I could and then removed the bowed pieces.&lt;/p>
&lt;p>Anywaysâ€¦ it&amp;rsquo;s not pretty. But it will last a little longer until I can do it right.&lt;/p>
&lt;p>Hopefully interesting in some way! If not weâ€™ll try again. I&amp;rsquo;ve got several more projects needing done ðŸ™‚&lt;/p></description></item><item><title>100 Day writing challenge</title><link>https://geekgonecrazy.com/2020/04/25/100-day-writing-challenge/</link><pubDate>Sat, 25 Apr 2020 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2020/04/25/100-day-writing-challenge/</guid><description>
&lt;p>Hello its me again your friendly neighborhood Geek Gone Crazy.ðŸ˜œ Its been a bit less time since my last post than normal. Recently I came across a challenge on mastodon to do a 100 day writing challenge. Inspired by the 100 days of code.&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;p>The idea being much like 100 days of code it encourages a person to sit down to write more often. Of course by doing this you get better at it.&lt;/p>
&lt;p>As you can see from my posting history here.. I don&amp;rsquo;t post a lot. But I do enjoy writing, I do a fair amount of writing for work and have always wanted to post a bit more. So.. here goes nothing!&lt;/p>
&lt;p>Here&amp;rsquo;s to hopefully a few more posts!&lt;/p></description></item><item><title>Rocket.Chat + Kubernetes + Traefik = :heart:</title><link>https://geekgonecrazy.com/2020/02/20/rocket.chat-kubernetes-traefik-heart/</link><pubDate>Thu, 20 Feb 2020 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2020/02/20/rocket.chat-kubernetes-traefik-heart/</guid><description>
&lt;p>You could say I&amp;rsquo;ve been a docker / container fanboy for a while now&amp;hellip; I started working with containers in a couple of previous jobs. Primarily only as aids for the build process or for maintaining the same environment between dev and production. But at my current job I got the opportunity to really go all in. At Rocket.Chat we wanted to build a cloud offering to allow people to quickly and easily deploy Rocket.Chat.&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>We started this journey off with a couple of my collegues actually putting together a quick proof of concept using a wildcard cert, hipache and a solution that was at the time called tutum. Tutum was later aquired by docker.. and shutdown.&lt;/p>
&lt;p>This solution worked great as a quick proof of concept. We were able to setup a page on our website and people could come in and try Rocket.Chat out. It would provision a docker container using tutum and proxy traffic through with hipache and the user would have a Rocket.Chat instance to play with in just a few minutes.&lt;/p>
&lt;p>&lt;img src="/images/2020-02-20/deploy.png"
alt="screenshot"/>&lt;/p>
&lt;p>The problem with this solution is it just wouldn&amp;rsquo;t scale that well. Tutum wasn&amp;rsquo;t really great to work with and had a lot of weird quirks. It seemed to perform worse the more containers we had running. Lots of network issues, lower level docker issues etc. Hipache while doing the job didn&amp;rsquo;t really fit that nicely with this dynamic load. We had to setup a redis cluster just for hipache and inject new records every time we wanted to handle traffic for a new subdomain.&lt;/p>
&lt;p>We started to evaluate a few other options. At the time the orchestration landscape was rather scarce. Kubernetes already existed and looked super promising, but it was a bit young. We looked at adapting a few other solutions to fit our needs.. We checked out Juju charms and LXD containers.. But.. after some prototyping felt that it was going to take a lot of work to make work as we invisioned.&lt;/p>
&lt;p>Finally we decided to just take a bet on Kubernetes. Much like a lot of other companies were doing at the time. It of course helped to see companies both big and small on board. We really loved that Kubernetes had a super declaritive way of defining the payload and that it had a super easy to use api. We also really loved the idea that we could remain vendor independent.&lt;/p>
&lt;p>We were able to pretty quickly get a yaml file up and running. It looked much like it does today:&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>We started writing a tool that we call fleetcommand. This tool handled all of the talking to the kubernetes clusters, the billing integrations, the customer self service options etc. We wrote it in Go. Which actually allowed us a lot of benefits. We were able to easily wrap the kubernetes client and use it directly instead of having to build our own mappings to the api. We were able to use it to directly inject the deployment, service and ingress objects directly into kubernetes. Its evolved a lot.. but its still in use today. :smile:&lt;/p>
&lt;p>When we started looking at our infrastructure vendor for our managed Kubernetes (GKE) we quickly realized we had a bit of a problem. If we just defined an ingress rule like we were in our minikube environment&amp;hellip; While Google would handle it for us.. It would also give a new ip for each one. Which while great of them.. meant we would some how have to get DNS configured and then after all of that we would be pretty shackled into GCP.&lt;/p>
&lt;h2 id="introducing-traefik">Introducing Traefik&lt;/h2>
&lt;p>We started looking around at various ingress controllers. At the time there weren&amp;rsquo;t a lot. We found the default nginx controller.. I think is still used today as the example ingress controller and used in minikube. Some how we stumbled across traefik. Right off the bat I loved Traefik because of the gopher.&lt;/p>
&lt;p>&lt;img src="https://github.com/containous/traefik/raw/master/docs/content/assets/img/traefik.logo.png"
alt="traefik mascot"/>&lt;/p>
&lt;p>But then we discovered that not only did it have a super cool mascot. They also could act as an ingress controller. This would allow us to just programatically insert an ingress record into our Kubernetes cluster and traefik would scoop it up and handle the rest. They also added a little icing on the cake by providing support for provisioning Letsencrypt certs. Which we knew we would want to make use of for custom domains. It also certainly didn&amp;rsquo;t hurt that it was also written in Go.&lt;/p>
&lt;h2 id="putting-the-pieces-together">Putting the pieces together&lt;/h2>
&lt;p>We were then able to put the pieces together.&lt;/p>
&lt;ul>
&lt;li>A wildcard DNS record so no need to add on the fly DNS record creation.&lt;/li>
&lt;li>A Google Provided IP and TCP LoadBalancer&lt;/li>
&lt;li>A couple of Traefik instances sitting on nodes we tainted as edge nodes and Traefik had selectors for and had a tolerence for.&lt;/li>
&lt;li>Fleetcommand to talk to kubernetes api to inject the deployment, service and ingress records.&lt;/li>
&lt;li>Some worker nodes&lt;/li>
&lt;li>Some database nodes&lt;/li>
&lt;/ul>
&lt;h2 id="now">Now&lt;/h2>
&lt;p>A lot has changed!&lt;/p>
&lt;ul>
&lt;li>We switched away from GCP. Proving our solution was actually able to be vendor agnostic.&lt;/li>
&lt;li>We introduced multiple regions - We now spin up DNS records&lt;/li>
&lt;li>We still use and love Traefik - Have gone from just 2 Traefik instances to now 10+&lt;/li>
&lt;li>We let our customers bring their own custom domains and provide Letsencrypt certificates for them&lt;/li>
&lt;li>We still love Golang for our infrastructure needs. But thats a topic for another time. :smile:&lt;/li>
&lt;/ul>
&lt;p>We are still very thankful to have discovered 2 key pieces. Kubernetes and Traefik&lt;/p></description></item><item><title>Fedora Setup</title><link>https://geekgonecrazy.com/2017/12/05/fedora-setup/</link><pubDate>Tue, 05 Dec 2017 00:00:00 +0000</pubDate><guid>https://geekgonecrazy.com/2017/12/05/fedora-setup/</guid><description>
&lt;p>Install nvidia drivers (oss drivers on this card fail miserably)&lt;/p>
&lt;p>Install gnome tweak tool
&lt;code>sudo dnf install gnome-tweak-tool&lt;/code>&lt;/p>
&lt;p>Enable global dark theme&lt;/p>
&lt;p>Enable minamize and maximize buttons&lt;/p>
&lt;p>Enable workspaces span displays&lt;/p>
&lt;p>Set screenshot area to clipboard to ctrl+shift+4&lt;/p>
&lt;p>Install tilix&lt;/p>
&lt;p>&lt;code>sudo dnf install tilix&lt;/code>&lt;/p>
&lt;p>&lt;code>sudo dnf install tmux&lt;/code>&lt;/p>
&lt;pre>&lt;code>sudo dnf groupinstall &amp;quot;Development Tools&amp;quot;
sudo dnf groupinstall &amp;quot;C Development Tools and Libraries&amp;quot;
&lt;/code>&lt;/pre>&lt;p>sudo dnf install zsh&lt;/p>
&lt;p>Install oh my zsh
&lt;code>sh -c &amp;quot;$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&amp;quot;&lt;/code>&lt;/p>
&lt;p>restore dotfiles&lt;/p>
&lt;p>Install Docker
&lt;code>sudo dnf -y install dnf-plugins-core&lt;/code>&lt;/p>
&lt;pre>&lt;code>sudo dnf config-manager \
--add-repo \
https://download.docker.com/linux/fedora/docker-ce.repo
&lt;/code>&lt;/pre>&lt;p>&lt;code>sudo dnf install docker-ce&lt;/code>&lt;/p>
&lt;p>At time of writing have to actually hop in: &lt;code>/etc/yum.repos.d/docker-ci.repo&lt;/code> and set version to 26 since docker doesn&amp;rsquo;t have fedora 27&lt;/p>
&lt;pre>&lt;code>baseurl=https://download.docker.com/linux/fedora/26/$basearch/stable
&lt;/code>&lt;/pre>&lt;p>add user to group
&lt;code>sudo usermod -G docker aaron&lt;/code>&lt;/p>
&lt;p>too lazy to restart to make sure things are working&amp;hellip; &lt;code>newgrp docker&lt;/code>&lt;/p>
&lt;p>Install golang
&lt;code>sudo dnf install golang-bin&lt;/code>&lt;/p>
&lt;p>&lt;code>sudo dnf install nodejs&lt;/code>&lt;/p>
&lt;p>Drop in .gitconfig&lt;/p>
&lt;p>Add gpg key for signing
&lt;a href="https://www.debuntu.org/how-to-importexport-gpg-key-pair/">https://www.debuntu.org/how-to-importexport-gpg-key-pair/&lt;/a>
Install Rocket.Chat
&lt;code>flatpak install flathub chat.rocket.RocketChat&lt;/code>&lt;/p>
&lt;p>Install Google Chrome&lt;/p>
&lt;p>Install Google Play Music Desktop Player
&lt;code>flatpak install --from https://flathub.org/repo/appstream/com.googleplaymusicdesktopplayer.GPMDP.flatpakref&lt;/code>&lt;/p>
&lt;p>Install Visual Studio Code
&lt;code>flatpak install --from https://flathub.org/repo/appstream/com.visualstudio.code.flatpakref&lt;/code>&lt;/p>
&lt;p>Actually switched to from repo due to terminal limitation&lt;/p>
&lt;p>Install Enpass&lt;/p>
&lt;p>Install Corebird
&lt;code>flatpak install --from https://flathub.org/repo/appstream/org.baedert.corebird.flatpakref&lt;/code>&lt;/p>
&lt;p>GNOME Extensions
&lt;code>sudo dnf install chrome-gnome-shell&lt;/code>&lt;/p>
&lt;p>Dash to panel - &lt;a href="https://extensions.gnome.org/extension/1160/dash-to-panel/">https://extensions.gnome.org/extension/1160/dash-to-panel/&lt;/a>
Top Icons Plus - &lt;a href="https://extensions.gnome.org/extension/1031/topicons/">https://extensions.gnome.org/extension/1031/topicons/&lt;/a>&lt;/p>
&lt;p>Download minio hook up to s3 buckets (digitalocean)
&lt;a href="https://minio.io/downloads.html#download-client">https://minio.io/downloads.html#download-client&lt;/a>&lt;/p>
&lt;p>yubikey u2f setup
&lt;a href="https://www.yubico.com/support/knowledge-base/categories/articles/can-set-linux-system-use-u2f/">https://www.yubico.com/support/knowledge-base/categories/articles/can-set-linux-system-use-u2f/&lt;/a>&lt;/p>
&lt;p>Install keybase
&lt;code>sudo yum install https://prerelease.keybase.io/keybase_amd64.rpm&lt;/code>&lt;/p>
&lt;p>Install kubectl
&lt;a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">https://kubernetes.io/docs/tasks/tools/install-kubectl/&lt;/a>&lt;/p></description></item></channel></rss>